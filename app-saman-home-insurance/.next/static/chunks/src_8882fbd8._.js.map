{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/hooks/useProtectedRoute.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\n\r\n/**\r\n * Custom hook for protecting routes that require authentication\r\n * @param options Configuration options\r\n * @returns Object with authentication state\r\n */\r\nexport function useProtectedRoute(options: {\r\n  redirectTo?: string; // Custom redirect URL (defaults to /login)\r\n  redirectIfFound?: boolean; // Redirect away if session is found (for auth pages)\r\n} = {}) {\r\n  const { redirectTo = \"/login\", redirectIfFound = false } = options;\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Handle loading state\r\n    if (status === \"loading\") {\r\n      return;\r\n    }\r\n\r\n    // Get the redirect URL from query params\r\n    const redirectUrl = searchParams?.get(\"redirectUrl\") || \"/\";\r\n    \r\n    // Handle authenticated users\r\n    if (session) {\r\n      if (redirectIfFound) {\r\n        // For auth pages (login, register), redirect away if authenticated\r\n        router.replace(redirectUrl || \"/\");\r\n      } else {\r\n        // For protected pages, user is authenticated so we're good\r\n        setIsLoading(false);\r\n      }\r\n      return;\r\n    }\r\n    \r\n    // Handle unauthenticated users on protected pages\r\n    if (!redirectIfFound && !session) {\r\n      // Get current URL for redirecting back after login\r\n      const currentUrl = window.location.pathname + window.location.search;\r\n      router.replace(`${redirectTo}?redirectUrl=${encodeURIComponent(currentUrl)}`);\r\n      return;\r\n    }\r\n    \r\n    // User is not authenticated and on auth page, or is authenticated and on protected page\r\n    setIsLoading(false);\r\n  }, [session, status, router, redirectIfFound, redirectTo, searchParams]);\r\n\r\n  return {\r\n    isLoading,\r\n    isAuthenticated: !!session,\r\n    session,\r\n  };\r\n} "],"names":[],"mappings":";;;;AACA;AACA;AACA;;AAHA;;;;AAUO,SAAS;QAAkB,UAAA,iEAG9B,CAAC;;IACH,MAAM,EAAE,aAAa,QAAQ,EAAE,kBAAkB,KAAK,EAAE,GAAG;IAC3D,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,2QAAU;IAC5C,MAAM,SAAS,IAAA,iRAAS;IACxB,MAAM,eAAe,IAAA,uRAAe;IACpC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wSAAQ,EAAC;IAE3C,IAAA,ySAAS;uCAAC;YACR,uBAAuB;YACvB,IAAI,WAAW,WAAW;gBACxB;YACF;YAEA,yCAAyC;YACzC,MAAM,cAAc,CAAA,yBAAA,mCAAA,aAAc,GAAG,CAAC,mBAAkB;YAExD,6BAA6B;YAC7B,IAAI,SAAS;gBACX,IAAI,iBAAiB;oBACnB,mEAAmE;oBACnE,OAAO,OAAO,CAAC,eAAe;gBAChC,OAAO;oBACL,2DAA2D;oBAC3D,aAAa;gBACf;gBACA;YACF;YAEA,kDAAkD;YAClD,IAAI,CAAC,mBAAmB,CAAC,SAAS;gBAChC,mDAAmD;gBACnD,MAAM,aAAa,OAAO,QAAQ,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,MAAM;gBACpE,OAAO,OAAO,CAAC,AAAC,GAA4B,OAA1B,YAAW,iBAA8C,OAA/B,mBAAmB;gBAC/D;YACF;YAEA,wFAAwF;YACxF,aAAa;QACf;sCAAG;QAAC;QAAS;QAAQ;QAAQ;QAAiB;QAAY;KAAa;IAEvE,OAAO;QACL;QACA,iBAAiB,CAAC,CAAC;QACnB;IACF;AACF;GAhDgB;;QAKoB,2QAAU;QAC7B,iRAAS;QACH,uRAAe","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/app/actions/auth.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { UserAuthenticationOtpService } from \"@/swagger/services/UserAuthenticationOtpService\";\r\nimport { setAuthTokens } from \"@/utils/auth\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport {\r\n  handleApiErrorWithCleanup,\r\n  handleApiErrorWithDetails,\r\n} from \"@/lib/api-error-handler\";\r\nimport { OtpRequestDto } from \"@/swagger/models/OtpRequestDto\";\r\n\r\n// Check if user is registered or not\r\nexport async function checkRegistration(\r\n  phoneNumber: string\r\n  // recaptchaToken?: string\r\n) {\r\n  try {\r\n    const requestBody = { phoneNumber: phoneNumber } as OtpRequestDto;\r\n    // if (recaptchaToken) {\r\n    //   requestBody.captchaToken = recaptchaToken;\r\n    // }\r\n\r\n    const result = await UserAuthenticationOtpService.postApiV1UsersRequestOtp({\r\n      requestBody\r\n    });\r\n    // API returns true if the user can register (i.e., phone number is available)\r\n    // and false if the user already exists\r\n    return {\r\n      success: true,\r\n      isRegistered: result === true,\r\n    };\r\n  } catch (error: any) {\r\n    console.error(\"Registration check error:\", error);\r\n    const errorDetails = handleApiErrorWithDetails(\r\n      error,\r\n      \"خطا در بررسی وضعیت کاربر. لطفا دوباره تلاش کنید.\"\r\n    );\r\n    return {\r\n      success: false,\r\n      error: errorDetails.message,\r\n      status: errorDetails.status,\r\n      details: errorDetails.body,\r\n    };\r\n  }\r\n}\r\n\r\n// Confirm phone number with OTP code\r\nexport async function confirmPhoneNumber(\r\n  phoneNumber: string,\r\n  code: number,\r\n  recaptchaToken?: string\r\n) {\r\n  // Maximum retry attempts\r\n  const maxRetries = 1;\r\n  let retryCount = 0;\r\n  let lastError: any = null;\r\n\r\n  // Retry logic\r\n  while (retryCount <= maxRetries) {\r\n    try {\r\n      console.log(\r\n        `Attempting to confirm phone ${phoneNumber} with code (attempt ${\r\n          retryCount + 1\r\n        }/${maxRetries + 1})`\r\n      );\r\n\r\n      const requestBody: any = {\r\n        phoneNumber,\r\n        otp: code.toString(), // Convert number to string and use 'otp' instead of 'code'\r\n      };\r\n\r\n      // Add captcha token if provided\r\n      if (recaptchaToken) {\r\n        requestBody.captchaToken = recaptchaToken;\r\n      }\r\n\r\n      await UserAuthenticationOtpService.postApiV1UsersVerifyOtp({\r\n        requestBody,\r\n      });\r\n\r\n      console.log(`Successfully confirmed phone ${phoneNumber}`);\r\n      return { success: true };\r\n    } catch (error: any) {\r\n      lastError = error;\r\n      console.error(\r\n        `Phone confirmation error (attempt ${retryCount + 1}):`,\r\n        error\r\n      );\r\n\r\n      // Check if it's a network error or server error (not invalid code)\r\n      if (error?.status >= 500) {\r\n        // Server error, try again after delay\r\n        retryCount++;\r\n        if (retryCount <= maxRetries) {\r\n          console.log(`Retrying confirmation in ${retryCount * 1000}ms...`);\r\n          // Wait longer between each retry\r\n          await new Promise((resolve) =>\r\n            setTimeout(resolve, retryCount * 1000)\r\n          );\r\n          continue;\r\n        }\r\n      } else {\r\n        // Client error or other error, don't retry\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // All retries failed or non-retryable error\r\n  const errorDetails = handleApiErrorWithDetails(\r\n    lastError,\r\n    lastError?.status === 400\r\n      ? \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\"\r\n      : \"خطا در تایید شماره موبایل. لطفا دوباره تلاش کنید.\"\r\n  );\r\n  return {\r\n    success: false,\r\n    error: errorDetails.message,\r\n    status: errorDetails.status,\r\n    details: errorDetails.body,\r\n  };\r\n}\r\n\r\n// Set user profile during registration\r\n// export async function setUserProfile(\r\n//   phoneNumber: string,\r\n//   firstName: string,\r\n//   lastName: string,\r\n//   password: string,\r\n//   rePassword: string\r\n// ) {\r\n//   try {\r\n//     await AuthService.petInsurancePlatformUsersEndpointsAuthSetProfileEndpoint({\r\n//       requestBody: {\r\n//         phoneNumber,\r\n//         firstName,\r\n//         lastName,\r\n//         password,\r\n//         rePassword,\r\n//       },\r\n//     });\r\n//     return { success: true };\r\n//   } catch (error: any) {\r\n//     console.error(\"Set profile error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"خطا در ثبت اطلاعات کاربری. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Login with password\r\n// export async function loginWithPassword(phoneNumber: string, password: string) {\r\n//   try {\r\n//     const response =\r\n//       await AuthService.petInsurancePlatformUsersEndpointsAuthLoginByPasswordEndpoint(\r\n//         {\r\n//           requestBody: {\r\n//             phoneNumber,\r\n//             password,\r\n//           },\r\n//         }\r\n//       );\r\n\r\n//     if (response.accessToken && response.refreshToken) {\r\n//       await setAuthTokens(response.accessToken, response.refreshToken);\r\n//       revalidatePath(\"/\");\r\n//       return { success: true };\r\n//     }\r\n//     return {\r\n//       success: false,\r\n//       error: \"خطا در ورود. لطفا دوباره تلاش کنید.\",\r\n//       details: response,\r\n//     };\r\n//   } catch (error: any) {\r\n//     console.error(\"Login with password error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"اطلاعات ورود نامعتبر است. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Login with OTP code\r\nexport async function loginWithCode(phoneNumber: string, code: number) {\r\n  try {\r\n    const response = await UserAuthenticationOtpService.postApiV1UsersVerifyOtp(\r\n      {\r\n        requestBody: {\r\n          phoneNumber,\r\n          otp: code.toString(), // Convert number to string and use 'otp' instead of 'code'\r\n        },\r\n      }\r\n    );\r\n\r\n    if (response.accessToken && response.refreshToken) {\r\n      await setAuthTokens(response.accessToken, response.refreshToken);\r\n      revalidatePath(\"/\");\r\n      return { success: true };\r\n    }\r\n    return {\r\n      success: false,\r\n      error: \"خطا در ورود. لطفا دوباره تلاش کنید.\",\r\n      details: response,\r\n    };\r\n  } catch (error: any) {\r\n    console.error(\"Login with code error:\", error);\r\n    const errorDetails = handleApiErrorWithDetails(\r\n      error,\r\n      \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\"\r\n    );\r\n    return {\r\n      success: false,\r\n      error: errorDetails.message,\r\n      status: errorDetails.status,\r\n      details: errorDetails.body,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function resendCode(phoneNumber: string) {\r\n  const maxRetries = 2;\r\n  let retryCount = 0;\r\n  let lastError: any = null;\r\n\r\n  while (retryCount <= maxRetries) {\r\n    try {\r\n      console.log(\r\n        `Attempting to send OTP code to ${phoneNumber} (attempt ${\r\n          retryCount + 1\r\n        }/${maxRetries + 1})`\r\n      );\r\n\r\n      // API now requires captcha token as a required parameter\r\n      await UserAuthenticationOtpService.postApiV1UsersRequestOtp({\r\n        requestBody: {\r\n          phoneNumber: phoneNumber,\r\n        },\r\n        // captchaToken: recaptchaToken,\r\n      });\r\n\r\n      console.log(`Successfully sent OTP code to ${phoneNumber}`);\r\n      return { success: true };\r\n    } catch (error: any) {\r\n      lastError = error;\r\n      console.error(`Resend code error (attempt ${retryCount + 1}):`, error);\r\n\r\n      if (error?.status === 422) {\r\n        const errorDetails = handleApiErrorWithDetails(\r\n          error,\r\n          \"کد قبلا فرستاده شده\"\r\n        );\r\n        return {\r\n          success: false,\r\n          error: errorDetails.message,\r\n          status: errorDetails.status,\r\n          details: {\r\n            type: errorDetails.type,\r\n            title: errorDetails.title,\r\n            status: errorDetails.status,\r\n            detail: errorDetails.detail,\r\n            message: errorDetails.detail,\r\n          },\r\n        };\r\n      }\r\n\r\n      if (error?.status === 429 || error?.status >= 500) {\r\n        retryCount++;\r\n        if (retryCount <= maxRetries) {\r\n          console.log(`Retrying in ${retryCount * 1000}ms...`);\r\n          await new Promise((resolve) =>\r\n            setTimeout(resolve, retryCount * 1000)\r\n          );\r\n          continue;\r\n        }\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const errorDetails = handleApiErrorWithDetails(\r\n    lastError,\r\n    \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\"\r\n  );\r\n  return {\r\n    success: false,\r\n    error: errorDetails.message,\r\n    status: errorDetails.status,\r\n    details: {\r\n      type: errorDetails.type,\r\n      title: errorDetails.title,\r\n      status: errorDetails.status,\r\n      detail: errorDetails.detail,\r\n      message: errorDetails.detail,\r\n    },\r\n  };\r\n}\r\n\r\n// Request forgot password OTP\r\n// export async function requestForgotPassword(\r\n//   phoneNumber: string,\r\n//   recaptchaToken?: string\r\n// ) {\r\n//   try {\r\n//     const requestBody: any = { phoneNumber };\r\n//     if (recaptchaToken) {\r\n//       requestBody.captchaToken = recaptchaToken;\r\n//     }\r\n\r\n//     await AuthService.petInsurancePlatformUsersEndpointsAuthForgetPasswordRequestEndpoint(\r\n//       {\r\n//         requestBody,\r\n//       }\r\n//     );\r\n//     return { success: true };\r\n//   } catch (error: any) {\r\n//     console.error(\"Forgot password request error:\", error.body?.detail);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Verify forgot password OTP\r\n// export async function verifyForgotPassword(phoneNumber: string, code: number, captchaToken: string) {\r\n//   try {\r\n//     const response =\r\n//       await AuthService.petInsurancePlatformUsersEndpointsAuthForgetPasswordVerifyEndpoint(\r\n//         {\r\n//           requestBody: {\r\n//             phoneNumber,\r\n//             code,\r\n//             captchaToken\r\n//           },\r\n//         }\r\n//       );\r\n//     return {\r\n//       success: true,\r\n//       resetToken: response.resetToken,\r\n//     };\r\n//   } catch (error: any) {\r\n//     console.error(\"Forgot password verification error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Reset password with token\r\n// export async function resetPassword(\r\n//   resetToken: string,\r\n//   phoneNumber: string,\r\n//   password: string,\r\n//   rePassword: string,\r\n//   captchaToken: string\r\n// ) {\r\n//   try {\r\n//     await AuthService.petInsurancePlatformUsersEndpointsAuthResetPasswordEndpoint(\r\n//       {\r\n//         requestBody: {\r\n//           resetToken,\r\n//           phoneNumber: phoneNumber,\r\n//           newPassword: password,\r\n//           confirmPassword: rePassword,\r\n//           captchaToken : captchaToken\r\n//         },\r\n//       }\r\n//     );\r\n//     return { success: true };\r\n//   } catch (error: any) {\r\n//     console.error(\"Reset password error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"خطا در تغییر رمز عبور. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n"],"names":[],"mappings":";;;;;;;IAkOsB,aAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/app/actions/auth.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { UserAuthenticationOtpService } from \"@/swagger/services/UserAuthenticationOtpService\";\r\nimport { setAuthTokens } from \"@/utils/auth\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport {\r\n  handleApiErrorWithCleanup,\r\n  handleApiErrorWithDetails,\r\n} from \"@/lib/api-error-handler\";\r\nimport { OtpRequestDto } from \"@/swagger/models/OtpRequestDto\";\r\n\r\n// Check if user is registered or not\r\nexport async function checkRegistration(\r\n  phoneNumber: string\r\n  // recaptchaToken?: string\r\n) {\r\n  try {\r\n    const requestBody = { phoneNumber: phoneNumber } as OtpRequestDto;\r\n    // if (recaptchaToken) {\r\n    //   requestBody.captchaToken = recaptchaToken;\r\n    // }\r\n\r\n    const result = await UserAuthenticationOtpService.postApiV1UsersRequestOtp({\r\n      requestBody\r\n    });\r\n    // API returns true if the user can register (i.e., phone number is available)\r\n    // and false if the user already exists\r\n    return {\r\n      success: true,\r\n      isRegistered: result === true,\r\n    };\r\n  } catch (error: any) {\r\n    console.error(\"Registration check error:\", error);\r\n    const errorDetails = handleApiErrorWithDetails(\r\n      error,\r\n      \"خطا در بررسی وضعیت کاربر. لطفا دوباره تلاش کنید.\"\r\n    );\r\n    return {\r\n      success: false,\r\n      error: errorDetails.message,\r\n      status: errorDetails.status,\r\n      details: errorDetails.body,\r\n    };\r\n  }\r\n}\r\n\r\n// Confirm phone number with OTP code\r\nexport async function confirmPhoneNumber(\r\n  phoneNumber: string,\r\n  code: number,\r\n  recaptchaToken?: string\r\n) {\r\n  // Maximum retry attempts\r\n  const maxRetries = 1;\r\n  let retryCount = 0;\r\n  let lastError: any = null;\r\n\r\n  // Retry logic\r\n  while (retryCount <= maxRetries) {\r\n    try {\r\n      console.log(\r\n        `Attempting to confirm phone ${phoneNumber} with code (attempt ${\r\n          retryCount + 1\r\n        }/${maxRetries + 1})`\r\n      );\r\n\r\n      const requestBody: any = {\r\n        phoneNumber,\r\n        otp: code.toString(), // Convert number to string and use 'otp' instead of 'code'\r\n      };\r\n\r\n      // Add captcha token if provided\r\n      if (recaptchaToken) {\r\n        requestBody.captchaToken = recaptchaToken;\r\n      }\r\n\r\n      await UserAuthenticationOtpService.postApiV1UsersVerifyOtp({\r\n        requestBody,\r\n      });\r\n\r\n      console.log(`Successfully confirmed phone ${phoneNumber}`);\r\n      return { success: true };\r\n    } catch (error: any) {\r\n      lastError = error;\r\n      console.error(\r\n        `Phone confirmation error (attempt ${retryCount + 1}):`,\r\n        error\r\n      );\r\n\r\n      // Check if it's a network error or server error (not invalid code)\r\n      if (error?.status >= 500) {\r\n        // Server error, try again after delay\r\n        retryCount++;\r\n        if (retryCount <= maxRetries) {\r\n          console.log(`Retrying confirmation in ${retryCount * 1000}ms...`);\r\n          // Wait longer between each retry\r\n          await new Promise((resolve) =>\r\n            setTimeout(resolve, retryCount * 1000)\r\n          );\r\n          continue;\r\n        }\r\n      } else {\r\n        // Client error or other error, don't retry\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // All retries failed or non-retryable error\r\n  const errorDetails = handleApiErrorWithDetails(\r\n    lastError,\r\n    lastError?.status === 400\r\n      ? \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\"\r\n      : \"خطا در تایید شماره موبایل. لطفا دوباره تلاش کنید.\"\r\n  );\r\n  return {\r\n    success: false,\r\n    error: errorDetails.message,\r\n    status: errorDetails.status,\r\n    details: errorDetails.body,\r\n  };\r\n}\r\n\r\n// Set user profile during registration\r\n// export async function setUserProfile(\r\n//   phoneNumber: string,\r\n//   firstName: string,\r\n//   lastName: string,\r\n//   password: string,\r\n//   rePassword: string\r\n// ) {\r\n//   try {\r\n//     await AuthService.petInsurancePlatformUsersEndpointsAuthSetProfileEndpoint({\r\n//       requestBody: {\r\n//         phoneNumber,\r\n//         firstName,\r\n//         lastName,\r\n//         password,\r\n//         rePassword,\r\n//       },\r\n//     });\r\n//     return { success: true };\r\n//   } catch (error: any) {\r\n//     console.error(\"Set profile error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"خطا در ثبت اطلاعات کاربری. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Login with password\r\n// export async function loginWithPassword(phoneNumber: string, password: string) {\r\n//   try {\r\n//     const response =\r\n//       await AuthService.petInsurancePlatformUsersEndpointsAuthLoginByPasswordEndpoint(\r\n//         {\r\n//           requestBody: {\r\n//             phoneNumber,\r\n//             password,\r\n//           },\r\n//         }\r\n//       );\r\n\r\n//     if (response.accessToken && response.refreshToken) {\r\n//       await setAuthTokens(response.accessToken, response.refreshToken);\r\n//       revalidatePath(\"/\");\r\n//       return { success: true };\r\n//     }\r\n//     return {\r\n//       success: false,\r\n//       error: \"خطا در ورود. لطفا دوباره تلاش کنید.\",\r\n//       details: response,\r\n//     };\r\n//   } catch (error: any) {\r\n//     console.error(\"Login with password error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"اطلاعات ورود نامعتبر است. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Login with OTP code\r\nexport async function loginWithCode(phoneNumber: string, code: number) {\r\n  try {\r\n    const response = await UserAuthenticationOtpService.postApiV1UsersVerifyOtp(\r\n      {\r\n        requestBody: {\r\n          phoneNumber,\r\n          otp: code.toString(), // Convert number to string and use 'otp' instead of 'code'\r\n        },\r\n      }\r\n    );\r\n\r\n    if (response.accessToken && response.refreshToken) {\r\n      await setAuthTokens(response.accessToken, response.refreshToken);\r\n      revalidatePath(\"/\");\r\n      return { success: true };\r\n    }\r\n    return {\r\n      success: false,\r\n      error: \"خطا در ورود. لطفا دوباره تلاش کنید.\",\r\n      details: response,\r\n    };\r\n  } catch (error: any) {\r\n    console.error(\"Login with code error:\", error);\r\n    const errorDetails = handleApiErrorWithDetails(\r\n      error,\r\n      \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\"\r\n    );\r\n    return {\r\n      success: false,\r\n      error: errorDetails.message,\r\n      status: errorDetails.status,\r\n      details: errorDetails.body,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function resendCode(phoneNumber: string) {\r\n  const maxRetries = 2;\r\n  let retryCount = 0;\r\n  let lastError: any = null;\r\n\r\n  while (retryCount <= maxRetries) {\r\n    try {\r\n      console.log(\r\n        `Attempting to send OTP code to ${phoneNumber} (attempt ${\r\n          retryCount + 1\r\n        }/${maxRetries + 1})`\r\n      );\r\n\r\n      // API now requires captcha token as a required parameter\r\n      await UserAuthenticationOtpService.postApiV1UsersRequestOtp({\r\n        requestBody: {\r\n          phoneNumber: phoneNumber,\r\n        },\r\n        // captchaToken: recaptchaToken,\r\n      });\r\n\r\n      console.log(`Successfully sent OTP code to ${phoneNumber}`);\r\n      return { success: true };\r\n    } catch (error: any) {\r\n      lastError = error;\r\n      console.error(`Resend code error (attempt ${retryCount + 1}):`, error);\r\n\r\n      if (error?.status === 422) {\r\n        const errorDetails = handleApiErrorWithDetails(\r\n          error,\r\n          \"کد قبلا فرستاده شده\"\r\n        );\r\n        return {\r\n          success: false,\r\n          error: errorDetails.message,\r\n          status: errorDetails.status,\r\n          details: {\r\n            type: errorDetails.type,\r\n            title: errorDetails.title,\r\n            status: errorDetails.status,\r\n            detail: errorDetails.detail,\r\n            message: errorDetails.detail,\r\n          },\r\n        };\r\n      }\r\n\r\n      if (error?.status === 429 || error?.status >= 500) {\r\n        retryCount++;\r\n        if (retryCount <= maxRetries) {\r\n          console.log(`Retrying in ${retryCount * 1000}ms...`);\r\n          await new Promise((resolve) =>\r\n            setTimeout(resolve, retryCount * 1000)\r\n          );\r\n          continue;\r\n        }\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const errorDetails = handleApiErrorWithDetails(\r\n    lastError,\r\n    \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\"\r\n  );\r\n  return {\r\n    success: false,\r\n    error: errorDetails.message,\r\n    status: errorDetails.status,\r\n    details: {\r\n      type: errorDetails.type,\r\n      title: errorDetails.title,\r\n      status: errorDetails.status,\r\n      detail: errorDetails.detail,\r\n      message: errorDetails.detail,\r\n    },\r\n  };\r\n}\r\n\r\n// Request forgot password OTP\r\n// export async function requestForgotPassword(\r\n//   phoneNumber: string,\r\n//   recaptchaToken?: string\r\n// ) {\r\n//   try {\r\n//     const requestBody: any = { phoneNumber };\r\n//     if (recaptchaToken) {\r\n//       requestBody.captchaToken = recaptchaToken;\r\n//     }\r\n\r\n//     await AuthService.petInsurancePlatformUsersEndpointsAuthForgetPasswordRequestEndpoint(\r\n//       {\r\n//         requestBody,\r\n//       }\r\n//     );\r\n//     return { success: true };\r\n//   } catch (error: any) {\r\n//     console.error(\"Forgot password request error:\", error.body?.detail);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Verify forgot password OTP\r\n// export async function verifyForgotPassword(phoneNumber: string, code: number, captchaToken: string) {\r\n//   try {\r\n//     const response =\r\n//       await AuthService.petInsurancePlatformUsersEndpointsAuthForgetPasswordVerifyEndpoint(\r\n//         {\r\n//           requestBody: {\r\n//             phoneNumber,\r\n//             code,\r\n//             captchaToken\r\n//           },\r\n//         }\r\n//       );\r\n//     return {\r\n//       success: true,\r\n//       resetToken: response.resetToken,\r\n//     };\r\n//   } catch (error: any) {\r\n//     console.error(\"Forgot password verification error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n\r\n// Reset password with token\r\n// export async function resetPassword(\r\n//   resetToken: string,\r\n//   phoneNumber: string,\r\n//   password: string,\r\n//   rePassword: string,\r\n//   captchaToken: string\r\n// ) {\r\n//   try {\r\n//     await AuthService.petInsurancePlatformUsersEndpointsAuthResetPasswordEndpoint(\r\n//       {\r\n//         requestBody: {\r\n//           resetToken,\r\n//           phoneNumber: phoneNumber,\r\n//           newPassword: password,\r\n//           confirmPassword: rePassword,\r\n//           captchaToken : captchaToken\r\n//         },\r\n//       }\r\n//     );\r\n//     return { success: true };\r\n//   } catch (error: any) {\r\n//     console.error(\"Reset password error:\", error);\r\n//     const errorDetails = handleApiErrorWithDetails(error, \"خطا در تغییر رمز عبور. لطفا دوباره تلاش کنید.\");\r\n//     return {\r\n//       success: false,\r\n//       error: errorDetails.message,\r\n//       status: errorDetails.status,\r\n//       details: errorDetails.body,\r\n//     };\r\n//   }\r\n// }\r\n"],"names":[],"mappings":";;;;;;;IAYsB,oBAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/assets/icon/logo.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\ninterface LogoProps {\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\nconst Main = ({ className, style }: LogoProps) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"104\"\r\n        height=\"42\"\r\n        viewBox=\"0 0 104 42\"\r\n        fill=\"none\"\r\n        className={className}\r\n        style={style}\r\n      >\r\n        <path\r\n          d=\"M79.631 5.32958L79.6334 0.574102C79.6334 0.527134 79.6565 0.503656 79.7027 0.503656C83.9208 0.509324 88.3552 0.508106 93.0059 0.500008C93.81 0.499199 94.5218 0.557504 95.1413 0.674923C99.2858 1.46204 102.348 4.53761 103.031 8.66267C103.132 9.27406 103.181 10.0243 103.179 10.9135C103.168 15.1721 103.165 19.4984 103.17 23.8923C103.17 23.9393 103.147 23.9628 103.101 23.9628L98.4197 23.964C98.3881 23.964 98.3723 23.9482 98.3723 23.9166C98.344 19.8904 98.3399 15.9309 98.3602 12.0383C98.365 11.0568 98.3108 10.3377 98.1974 9.88099C97.8573 8.52055 96.9718 7.47957 95.8749 6.61107C94.6141 5.61503 93.2172 5.32958 91.6539 5.32958C87.6447 5.33039 83.637 5.33039 79.631 5.32958Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M10.6808 22.9692C13.3604 22.7432 15.9295 21.395 17.7296 19.4223C18.9504 18.0837 20.108 16.4306 20.6509 14.7677C20.8441 14.1773 20.9194 13.5833 20.9364 12.9675C20.9761 11.5617 21.0044 10.1964 21.0214 8.87159C21.0396 7.54273 21.2911 6.50782 21.7527 5.30165C21.768 5.26035 21.7976 5.2397 21.8413 5.2397L23.5079 5.23483C23.5451 5.23483 23.5637 5.25346 23.5637 5.29071C23.5427 7.13945 23.4006 8.78575 23.1374 10.2296C22.8029 12.0686 22.4369 13.723 22.0393 15.1928C21.9243 15.6195 21.783 16.0722 21.6154 16.5508C21.4332 17.0699 21.2518 17.529 21.0712 17.9282C19.9229 20.4645 18.4516 22.6902 16.6571 24.6054C15.4606 25.8832 13.8354 27.161 12.2478 27.8546C10.1771 28.76 8.08466 29.0519 5.9703 28.7304C4.29161 28.4761 2.95587 27.6943 1.96307 26.3849C0.47387 24.4231 0.182346 21.8796 0.509096 19.4114C0.730977 17.7286 1.12089 16.1204 1.67883 14.5867C2.00194 13.6983 2.47324 12.6452 3.09272 11.4273C3.96972 9.70324 4.7621 8.26061 5.46985 7.09937C5.55083 6.96738 5.67271 6.91191 5.83547 6.93296C5.88163 6.93863 5.9043 6.96454 5.90349 7.01069C5.89216 7.71845 5.77433 8.31364 5.55002 8.79628C4.60743 10.8236 3.59196 12.8837 2.92388 15.0009C2.5781 16.0981 2.48538 17.2464 2.64572 18.4457C3.05871 21.5213 5.56824 22.9607 8.46161 23.0348C9.1969 23.0542 9.93664 23.0323 10.6808 22.9692Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M27.8856 19.0919C27.9451 19.002 28.0289 18.8976 28.0641 18.798C28.3702 17.9542 28.6856 17.1132 29.0104 16.2751C29.0266 16.233 29.0569 16.2168 29.1015 16.2265C30.2979 16.4791 30.6745 17.8068 30.5797 18.883C30.3854 21.0937 29.2217 24.8204 26.428 24.8337C25.5303 24.8386 24.81 24.2895 24.278 23.5753C23.7824 22.9109 23.3475 22.1748 23.254 21.3694C23.1188 20.2025 23.1188 19.0069 23.254 17.7825C23.7318 13.4623 24.2363 9.29754 24.7675 5.28828C24.7701 5.26982 24.7793 5.25292 24.7933 5.24065C24.8074 5.22839 24.8254 5.22158 24.844 5.22147L26.4231 5.21904C26.4822 5.21904 26.5077 5.2486 26.4996 5.30772C26.1182 8.12699 25.6688 10.9815 25.5279 13.7668C25.4404 15.5038 25.257 17.7266 26.8616 18.8599C27.1207 19.0429 27.4151 19.1433 27.7447 19.1612C27.8054 19.1644 27.8524 19.1413 27.8856 19.0919Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M61.5723 11.8415C61.0937 12.4209 61.2237 13.1205 61.7667 13.5882C62.3522 14.0911 63.0142 14.5186 63.4976 15.1697C64.1292 16.02 62.7214 17.7934 62.1615 18.3971C61.5201 19.0871 60.2168 18.583 59.46 18.402C58.1141 18.0801 57.1497 18.6024 56.3371 19.6264C54.8916 21.4484 53.3295 23.7259 51.0447 24.462C50.2074 24.7317 49.4535 24.7952 48.783 24.6527C48.4015 24.5717 47.8914 24.4021 47.2525 24.1438C45.7669 23.5449 44.2036 24.0976 42.9258 24.8944C42.8592 24.9365 42.7824 24.9584 42.7047 24.9576L40.8924 24.9467C40.8454 24.9467 40.83 24.9244 40.8462 24.8799C40.8697 24.8199 40.8993 24.7645 40.9349 24.7135C42.1933 22.9121 43.7663 21.429 45.4535 19.9908C46.8346 18.8138 48.4453 17.9307 50.26 18.2343C50.7884 18.323 51.2828 18.521 51.7869 18.7093C51.9853 18.7838 52.1893 18.8267 52.3991 18.838C54.1276 18.934 55.3507 18.0728 56.4597 16.8241C57.0768 16.1277 57.7101 15.3041 58.3595 14.3534C58.4883 14.164 58.5919 13.9789 58.6705 13.7983C59.0462 12.9327 59.4389 12.1508 59.8487 11.4528C60.7945 9.84293 61.9991 8.5991 63.4624 7.72129C64.409 7.15282 65.3508 7.06778 66.2877 7.4662C66.5307 7.56985 66.7643 7.64638 66.9886 7.69578C67.7235 7.85733 68.3466 7.12609 68.694 6.57341C68.9434 6.17662 69.2001 5.80331 69.4641 5.45348C69.52 5.37898 69.5921 5.32634 69.6803 5.29556C69.712 5.28455 69.7457 5.28016 69.7791 5.28266C69.8126 5.28515 69.8452 5.29449 69.8749 5.31009C69.9046 5.32569 69.9308 5.34721 69.9519 5.37334C69.9729 5.39946 69.9884 5.42963 69.9974 5.46198C70.0613 5.68872 70.0593 5.91465 69.9913 6.13977C69.5524 7.60144 68.8406 8.88414 67.8559 9.98788C67.1331 10.7981 66.0144 11.8415 64.8848 11.1248C64.7155 11.0171 64.5447 10.9212 64.3722 10.8369C63.3093 10.3195 62.2647 11.0021 61.5723 11.8415Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M47.2136 13.5554C47.2776 13.3424 47.3662 13.1481 47.4796 12.9724C47.657 12.6962 47.7728 12.7197 47.827 13.0428C47.8724 13.3084 47.8764 13.5882 47.8392 13.8821C47.6489 15.3835 47.0573 16.701 46.0645 17.8347C45.6515 18.3068 45.1543 18.5826 44.5729 18.6619C44.5251 18.6684 44.4874 18.6919 44.4599 18.7324C43.9995 19.4126 43.261 20.654 42.3111 20.6078C42.086 20.5965 41.8597 20.5783 41.6321 20.5532C40.9507 20.4779 40.3251 20.7378 39.8672 21.2492C39.2655 21.9229 38.6724 22.6376 38.0877 23.3931C37.9144 23.6158 37.6694 23.8567 37.3528 24.1158C36.6216 24.7122 35.7871 25.0426 34.8506 24.9783C33.2156 24.8641 32.3629 23.6883 31.9232 22.2173C31.5855 21.0884 31.4474 19.979 31.509 18.8891C31.6037 17.231 31.8503 15.3859 32.0495 13.6113C32.3564 10.8758 32.7026 8.13104 33.0881 5.37695C33.0945 5.32918 33.1217 5.30529 33.1695 5.30529L34.7097 5.30407C34.7583 5.30407 34.7797 5.32837 34.774 5.37695C34.6113 6.63698 34.436 7.92495 34.2481 9.24086C33.9347 11.4467 33.7768 13.5177 33.7744 15.4539C33.7719 17.4509 34.2505 19.4417 36.5208 19.8037C37.3589 19.9373 38.4059 19.8159 39.1724 19.3992C40.115 18.8866 41.0576 17.4448 42.1192 17.491C42.4269 17.5039 42.7371 17.5189 43.0497 17.5359C44.2194 17.5979 44.8741 16.4026 45.0843 15.392C45.0924 15.3523 45.1162 15.3325 45.1559 15.3325C45.7827 15.3373 46.3828 15.4782 46.7265 14.7907C46.9209 14.402 47.0832 13.9903 47.2136 13.5554Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M79.631 5.32958L79.6358 23.9859C79.6358 24.0239 79.6553 24.043 79.6942 24.043L98.2642 24.0551C98.316 24.0551 98.3419 24.0806 98.3419 24.1316L98.3346 28.7851C98.3346 28.8345 98.31 28.8592 98.2606 28.8592L74.8694 28.8555C74.8395 28.8555 74.8245 28.8409 74.8245 28.8118V5.37938C74.8245 5.36585 74.8299 5.35288 74.8394 5.34331C74.849 5.33374 74.862 5.32836 74.8755 5.32836L79.631 5.32958Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M10.2654 11.867C10.9116 10.1458 11.774 8.41608 12.8162 6.88923C12.8235 6.87828 12.8343 6.87021 12.8468 6.86643C12.8592 6.86265 12.8725 6.86342 12.8843 6.86858C13.9702 7.3334 14.8767 8.00188 15.6039 8.87402C16.3789 9.80447 16.2307 11.2378 15.6319 12.212C15.1266 13.0323 14.5464 13.7234 13.8912 14.2854C13.6872 14.4616 13.471 14.4421 13.2596 14.3061C12.368 13.7368 11.54 13.1303 10.7756 12.4865C10.5812 12.3229 10.4156 12.148 10.2788 11.9617C10.2569 11.9326 10.2525 11.901 10.2654 11.867Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M88.9561 20.1086C91.9293 20.1086 94.3396 17.6983 94.3396 14.7251C94.3396 11.7519 91.9293 9.34167 88.9561 9.34167C85.9829 9.34167 83.5726 11.7519 83.5726 14.7251C83.5726 17.6983 85.9829 20.1086 88.9561 20.1086Z\"\r\n          fill=\"#E30617\"\r\n        />\r\n        <path\r\n          d=\"M55.986 26.3545C56.5606 24.9843 57.2007 23.67 58.023 22.4396C58.0481 22.4023 58.0793 22.3967 58.1166 22.4226C58.8126 22.9036 59.5912 23.4757 60.0576 24.1693C60.3917 24.6673 60.4524 25.2916 60.2702 25.8735C59.9009 27.0533 59.3211 27.9295 58.5308 28.5021C58.249 28.7049 57.9708 28.4194 57.7631 28.2457C57.227 27.7971 56.7092 27.3671 56.2095 26.9558C56.0334 26.8112 55.8876 26.5889 55.986 26.3545Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M60.2544 26.3849C60.8083 24.9928 61.4776 23.6749 62.2854 22.4529C62.3145 22.4092 62.3506 22.4019 62.3935 22.4311C63.3798 23.0894 64.9115 24.1863 64.6151 25.5698C64.371 26.7092 63.7029 27.8546 62.8053 28.496C62.566 28.6672 62.4129 28.5373 62.2198 28.3842C61.5557 27.8562 60.9371 27.3408 60.3637 26.8379C60.3009 26.7828 60.2567 26.7097 60.2371 26.6285C60.2175 26.5474 60.2236 26.4623 60.2544 26.3849Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M65.6852 26.4079C66.2488 25.022 66.8987 23.7101 67.7344 22.4542C67.7635 22.4104 67.8 22.4035 67.8437 22.4335C69.0292 23.234 70.4031 24.2531 70.0192 25.7314C69.735 26.8286 69.1872 27.7251 68.3757 28.4207C68.1514 28.6134 67.93 28.6174 67.7113 28.4328C67.2044 28.0052 66.6991 27.5902 66.1954 27.1878C66.0095 27.0384 65.5723 26.6861 65.6852 26.4079Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M3.85675 40.0099C4.22359 39.5872 4.03774 39.0139 3.64783 38.6738C2.92712 38.0454 2.22382 37.415 1.53793 36.7825C0.202994 35.5521 0.63785 33.5515 2.41857 33.0935C3.33606 32.8571 4.41024 32.8761 5.64112 33.1506C5.6889 33.1612 5.71441 33.1907 5.71765 33.2393L5.82211 34.5269C5.82697 34.5908 5.79903 34.6123 5.7383 34.5913C5.3253 34.4439 4.89733 34.3402 4.45438 34.2803C3.87619 34.2025 3.03806 34.3094 2.75261 34.8609C2.37606 35.5885 3.30529 36.2396 3.82153 36.6538C4.37866 37.1024 4.88802 37.5692 5.3496 38.0543C5.79903 38.5272 5.99945 39.0552 5.95087 39.6382C5.8464 40.8809 4.84065 41.5757 3.65755 41.7154C2.69066 41.8287 1.66749 41.7336 0.588047 41.4299C0.549987 41.4194 0.529742 41.3943 0.527313 41.3546L0.434998 40.0197C0.430949 39.9589 0.457266 39.9391 0.513952 39.9601C0.90022 40.1067 1.27515 40.2253 1.63875 40.316C2.34569 40.4922 3.39153 40.548 3.85675 40.0099Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M47.0411 33.0996C46.8727 35.9857 46.7694 38.7985 46.7314 41.538C46.7306 41.5898 46.7046 41.6157 46.6536 41.6157L44.7891 41.6145C44.7805 41.6146 44.7721 41.6128 44.7642 41.6094C44.7564 41.606 44.7493 41.601 44.7435 41.5947C44.7377 41.5884 44.7332 41.581 44.7304 41.5729C44.7276 41.5648 44.7265 41.5563 44.7271 41.5477C44.9401 38.6754 45.0571 35.8752 45.0782 33.147C45.0782 33.0984 45.1025 33.0741 45.1511 33.0741L47.018 33.0753C47.0212 33.0753 47.0243 33.076 47.0272 33.0772C47.03 33.0784 47.0326 33.0802 47.0348 33.0825C47.037 33.0848 47.0386 33.0875 47.0397 33.0904C47.0408 33.0934 47.0413 33.0965 47.0411 33.0996Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M11.2748 38.3895C10.8213 38.6074 10.3027 38.79 9.71881 38.9374C9.07868 39.1001 8.1701 39.6188 8.63168 40.3756C8.98272 40.9537 10.0079 40.8019 10.5691 40.6306C10.5718 40.6299 10.5746 40.6299 10.5773 40.6306C10.58 40.6313 10.5825 40.6327 10.5845 40.6347C10.5865 40.6367 10.5879 40.6391 10.5886 40.6418C10.5893 40.6445 10.5893 40.6474 10.5885 40.6501L10.3395 41.6218C10.3347 41.6404 10.3229 41.6514 10.3043 41.6546C9.54876 41.7967 8.75072 41.8271 8.01583 41.6206C7.04895 41.3485 6.60316 40.1994 6.98092 39.3127C7.2846 38.5997 8.20289 38.1697 8.9232 37.9936C9.48519 37.8559 10.0423 37.7178 10.5946 37.5794C11.6635 37.3097 11.5627 36.1497 10.4464 36.1023C9.63258 36.0675 8.758 36.2238 7.8227 36.5712C7.81192 36.575 7.80033 36.576 7.78905 36.5741C7.77777 36.5722 7.76717 36.5674 7.75827 36.5602C7.74937 36.553 7.74246 36.5437 7.73822 36.533C7.73397 36.5224 7.73253 36.5109 7.73403 36.4995L7.86278 35.5606C7.86845 35.516 7.89275 35.4877 7.93566 35.4755C9.19286 35.1306 10.7367 34.9314 11.9927 35.297C12.8163 35.5375 13.196 36.1031 13.1321 36.9939C13.0187 38.5754 12.9446 40.0958 12.9098 41.555C12.909 41.5939 12.8891 41.6133 12.8503 41.6133L11.2129 41.6109C11.208 41.6109 11.2032 41.6099 11.1988 41.6081C11.1944 41.6062 11.1904 41.6035 11.1871 41.6001C11.1838 41.5966 11.1812 41.5926 11.1796 41.5882C11.178 41.5838 11.1773 41.5791 11.1776 41.5744L11.355 38.443C11.3582 38.3806 11.3315 38.3628 11.2748 38.3895Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M16.5089 36.1035C17.2466 35.1747 18.2297 34.8965 19.4581 35.269C19.8582 35.3897 20.1622 35.6768 20.3704 36.1302C20.4003 36.1967 20.4388 36.2015 20.4858 36.1448C20.7263 35.8545 20.9959 35.5326 21.3385 35.3784C22.6904 34.7686 24.7663 35.1063 24.6327 37.051C24.525 38.622 24.4569 40.1269 24.4286 41.5659C24.4283 41.577 24.4237 41.5875 24.4157 41.5952C24.4078 41.6029 24.3972 41.6073 24.3861 41.6073L22.7244 41.6157C22.6645 41.6157 22.637 41.5858 22.6418 41.5259C22.743 40.214 22.8159 38.9111 22.8605 37.617C22.909 36.1922 21.2911 36.146 20.7639 37.1882C20.6076 37.4984 20.5141 37.8519 20.4833 38.2487C20.3951 39.3856 20.3533 40.4824 20.3582 41.5392C20.359 41.5862 20.3359 41.6097 20.289 41.6097L18.6479 41.6145C18.5953 41.6145 18.571 41.5886 18.5751 41.5368C18.6512 40.4169 18.7131 39.3151 18.7609 38.2316C18.7901 37.5587 18.8775 36.6331 17.9774 36.4898C17.3446 36.389 16.7858 36.8542 16.6 37.4312C16.4858 37.7859 16.4125 38.1968 16.3801 38.6641C16.3129 39.6415 16.2793 40.5962 16.2793 41.5283C16.2785 41.5817 16.2514 41.6085 16.1979 41.6085L14.5848 41.6145C14.5322 41.6153 14.5075 41.589 14.5107 41.5356C14.6387 39.4747 14.7282 37.4089 14.7792 35.3383C14.78 35.2864 14.8067 35.2605 14.8593 35.2605L16.3643 35.2593C16.4154 35.2593 16.4409 35.2852 16.4409 35.3371L16.4348 36.078C16.434 36.1582 16.4587 36.1667 16.5089 36.1035Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M29.9712 38.4199C29.4618 38.628 28.8905 38.8195 28.2573 38.9945C27.999 39.0665 27.7576 39.1908 27.5333 39.3674C27.0547 39.7463 27.1628 40.4885 27.7435 40.6877C28.1937 40.8432 28.7132 40.8181 29.3019 40.6124C29.3028 40.6122 29.3037 40.6123 29.3046 40.6125C29.3055 40.6127 29.3063 40.6131 29.307 40.6137C29.3077 40.6143 29.3083 40.615 29.3086 40.6158C29.309 40.6167 29.3092 40.6176 29.3092 40.6185C29.2242 40.9659 29.1302 41.306 29.0274 41.6388C29.0217 41.6575 29.0092 41.6684 28.9897 41.6716C28.2597 41.7882 27.4386 41.8295 26.7341 41.6255C25.817 41.3594 25.4113 40.4156 25.6166 39.5338C25.8243 38.6422 26.9248 38.1527 27.7593 37.962C28.3261 37.8324 28.88 37.6907 29.4209 37.5368C29.7817 37.4348 30.14 37.102 30.0416 36.6878C29.8862 36.0367 28.963 36.0464 28.4285 36.1181C27.7945 36.2031 27.1305 36.3602 26.4365 36.5894C26.4351 36.5896 26.4337 36.5895 26.4324 36.5892C26.4311 36.5888 26.4299 36.5882 26.429 36.5874C26.428 36.5865 26.4273 36.5855 26.4269 36.5844C26.4265 36.5832 26.4265 36.5821 26.4268 36.5809C26.4656 36.2189 26.5264 35.8598 26.609 35.5035C26.6108 35.4957 26.6147 35.4885 26.6203 35.4828C26.6258 35.477 26.6328 35.4728 26.6405 35.4707C27.8491 35.1415 29.2922 34.9641 30.5336 35.2484C31.4859 35.4654 31.9224 36.0715 31.843 37.0668C31.7377 38.3762 31.6641 39.8682 31.6219 41.5429C31.6211 41.5866 31.5989 41.6085 31.5551 41.6085L29.9554 41.6145C29.9117 41.6145 29.891 41.5927 29.8934 41.5489L30.0635 38.4855C30.0676 38.4151 30.0368 38.3932 29.9712 38.4199Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M35.3121 36.1448C35.7701 35.6079 36.2875 35.2617 37.0078 35.1597C37.7472 35.0544 38.4047 35.1144 38.9805 35.3395C40.0725 35.7646 40.0968 36.7449 40.0385 37.7616C39.9648 39.0337 39.9117 40.295 39.8793 41.5453C39.8785 41.5882 39.8567 41.6097 39.8137 41.6097L38.1496 41.6133C38.1403 41.6133 38.1311 41.6115 38.1226 41.6078C38.1141 41.6041 38.1064 41.5987 38.1001 41.592C38.0938 41.5852 38.089 41.5773 38.0861 41.5686C38.0831 41.5599 38.082 41.5507 38.0828 41.5416C38.1865 40.2711 38.25 39.041 38.2735 37.8514C38.2881 37.0874 37.8168 36.5457 37.0516 36.5262C36.1462 36.5027 35.5518 36.9344 35.2684 37.8211C35.151 38.1895 35.072 38.7973 35.0315 39.6443C35.0032 40.2492 34.9781 40.8805 34.9562 41.538C34.9554 41.5858 34.9307 41.6101 34.8821 41.6109L33.229 41.6133C33.1812 41.6133 33.1593 41.5898 33.1634 41.5429C33.3472 39.3265 33.4614 37.2587 33.5059 35.3395C33.5067 35.286 33.5338 35.2593 33.5873 35.2593L35.1907 35.2605C35.2401 35.2605 35.264 35.2856 35.2623 35.3358L35.2308 36.112C35.2275 36.2019 35.2546 36.2128 35.3121 36.1448Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M50.4799 36.1958C50.7933 35.7464 51.1852 35.4464 51.6557 35.2958C53.0902 34.8354 55.3277 35.1136 55.2341 37.1372C55.1629 38.6661 55.0993 40.1525 55.0434 41.5963C55.0434 41.6011 55.0415 41.6058 55.0381 41.6092C55.0347 41.6126 55.03 41.6145 55.0252 41.6145L53.3283 41.6133C53.321 41.6133 53.3137 41.6119 53.307 41.609C53.3002 41.6061 53.2942 41.602 53.2892 41.5967C53.2841 41.5915 53.2803 41.5853 53.2778 41.5785C53.2754 41.5718 53.2744 41.5646 53.2749 41.5574C53.3599 40.265 53.4182 39.0281 53.4498 37.8466C53.4631 37.3789 53.2627 36.8736 52.7999 36.6708C51.9241 36.2857 50.9415 36.6526 50.5552 37.5271C50.4127 37.8494 50.3228 38.224 50.2855 38.6507C50.1989 39.6257 50.1471 40.5978 50.1301 41.5672C50.1301 41.5794 50.1252 41.5911 50.1165 41.5998C50.1079 41.6085 50.0961 41.6133 50.0839 41.6133H48.4003C48.3485 41.6133 48.325 41.5878 48.3299 41.5368C48.5202 39.4751 48.6332 37.4 48.6688 35.3116C48.6688 35.298 48.6743 35.285 48.6841 35.2755C48.6939 35.2659 48.7072 35.2605 48.721 35.2605H50.3499C50.4034 35.2605 50.4293 35.2873 50.4276 35.3407L50.4094 36.1728C50.407 36.2594 50.4305 36.2671 50.4799 36.1958Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M59.0203 40.2456C59.2936 39.9176 59.1017 39.4828 58.7968 39.2544C58.2793 38.8665 57.8101 38.4875 57.389 38.1175C56.8723 37.6648 56.6521 37.149 56.7282 36.57C56.9736 34.7115 59.7054 35.0638 60.9067 35.2994C60.9286 35.3043 60.9399 35.3176 60.9407 35.3395L61.0014 36.5481C61.0023 36.5643 60.995 36.57 60.9796 36.5651C60.3273 36.3562 59.5183 36.1946 58.8843 36.4266C58.5239 36.5578 58.4105 36.8121 58.5441 37.1894C58.583 37.3004 58.7146 37.4453 58.9389 37.6243C59.4794 38.0567 60.1123 38.4612 60.5471 39.0175C60.9565 39.5398 61.0318 40.2954 60.6662 40.8469C59.8402 42.0919 57.6793 41.8137 56.4488 41.5016C56.4059 41.491 56.3828 41.4643 56.3796 41.4214L56.28 40.2395C56.2751 40.182 56.2998 40.1622 56.3541 40.18C57.0331 40.3962 58.4676 40.9112 59.0203 40.2456Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M72.0818 35.9031C72.0648 36.0723 72.1077 36.0889 72.2105 35.9529C72.7264 35.267 73.4244 34.9978 74.3046 35.1451C74.3508 35.1532 74.3747 35.1808 74.3763 35.2277L74.4188 36.5578C74.4204 36.6137 74.3937 36.6352 74.3386 36.6222C72.9175 36.2821 72.1279 37.1421 72.038 38.4709C71.9676 39.5091 71.9445 40.5327 71.9688 41.5417C71.9696 41.5878 71.9469 41.6109 71.9008 41.6109L70.2415 41.6145C70.233 41.6146 70.2245 41.6128 70.2166 41.6094C70.2088 41.606 70.2017 41.601 70.1959 41.5947C70.1901 41.5884 70.1856 41.581 70.1828 41.5729C70.18 41.5648 70.1789 41.5563 70.1796 41.5477C70.3318 39.5378 70.4152 37.4623 70.4298 35.3213C70.4298 35.28 70.4509 35.2593 70.493 35.2593L72.0307 35.2605C72.0737 35.2605 72.0959 35.282 72.0976 35.3249C72.1057 35.5217 72.1004 35.7144 72.0818 35.9031Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M79.2168 38.4175C78.8062 38.5997 78.3657 38.7499 77.8952 38.8681C77.3875 38.9957 76.502 39.2933 76.4813 39.9225C76.4461 41.006 77.809 40.8226 78.5414 40.6282C78.5434 40.6277 78.5455 40.6278 78.5475 40.6284C78.5495 40.6289 78.5513 40.63 78.5527 40.6315C78.5542 40.6329 78.5553 40.6347 78.5558 40.6367C78.5564 40.6387 78.5565 40.6408 78.556 40.6428L78.2742 41.6364C78.2721 41.6447 78.2674 41.6522 78.2607 41.658C78.254 41.6638 78.2456 41.6677 78.2365 41.6692C76.8445 41.8891 75.0006 41.9316 74.8038 40.0962C74.7298 39.3941 75.1743 38.76 75.7683 38.4357C76.6392 37.9596 77.6948 37.815 78.658 37.5368C78.841 37.4842 78.9985 37.3866 79.1305 37.2441C79.4451 36.9028 79.2957 36.3708 78.8742 36.2141C77.9863 35.8837 76.5955 36.2845 75.6808 36.593C75.6797 36.5934 75.6785 36.5936 75.6773 36.5934C75.6761 36.5932 75.675 36.5927 75.674 36.592C75.6731 36.5913 75.6723 36.5903 75.6718 36.5892C75.6713 36.5882 75.6711 36.587 75.6711 36.5858C75.7019 36.223 75.7643 35.8549 75.8582 35.4816C75.8598 35.4743 75.8647 35.4695 75.8728 35.467C76.259 35.3585 76.7894 35.2601 77.464 35.1719C78.2487 35.069 78.9827 35.086 79.6662 35.2229C80.61 35.4111 81.1591 35.9578 81.0874 36.9611C80.9878 38.3669 80.9117 39.8937 80.859 41.5416C80.8574 41.5878 80.8335 41.6109 80.7874 41.6109L79.1998 41.6121C79.1512 41.6121 79.1285 41.5878 79.1317 41.5392L79.3067 38.4806C79.3107 38.4102 79.2807 38.3891 79.2168 38.4175Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M84.4752 36.0452C84.4703 36.1861 84.5132 36.2027 84.6039 36.095C84.9513 35.6836 85.3416 35.4095 85.7749 35.2727C86.3887 35.0791 87.0478 35.0548 87.7524 35.1998C88.8334 35.4233 89.3476 36.0966 89.295 37.2198C89.227 38.6685 89.1667 40.1091 89.114 41.5416C89.1124 41.5878 89.0889 41.6109 89.0436 41.6109L87.4013 41.6121C87.3543 41.6121 87.3325 41.5886 87.3357 41.5416C87.4078 40.5513 87.4637 39.5095 87.5033 38.4163C87.5301 37.6923 87.5556 37.0643 86.9519 36.7121C86.4429 36.4145 85.674 36.4631 85.1942 36.8226C84.4581 37.3729 84.361 38.2681 84.3051 39.156C84.2614 39.8573 84.2265 40.6517 84.2006 41.5392C84.199 41.5894 84.1731 41.6145 84.1229 41.6145L82.4782 41.6133C82.4248 41.6133 82.4005 41.587 82.4053 41.5344C82.5843 39.4346 82.696 37.3684 82.7406 35.3358C82.7422 35.2848 82.7681 35.2593 82.8183 35.2593L84.4217 35.2605C84.4768 35.2605 84.5035 35.2877 84.5019 35.3419L84.4752 36.0452Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M92.2576 38.1818C92.1847 38.8742 92.2698 39.7415 92.8929 40.1411C93.7007 40.6586 94.6226 40.4812 95.5142 40.231C95.5814 40.2124 95.6089 40.2375 95.5968 40.3063L95.3891 41.4955C95.3802 41.5465 95.3502 41.5773 95.2992 41.5878C94.6198 41.7263 93.9428 41.7822 93.2682 41.7554C91.8859 41.7008 90.8547 40.9307 90.5644 39.5629C90.1587 37.6632 90.8802 35.4597 93.0387 35.1682C93.8897 35.0532 94.7663 35.1087 95.6684 35.3346C95.713 35.346 95.7365 35.3747 95.7389 35.4209L95.8021 36.6137C95.8053 36.6696 95.7798 36.6894 95.7255 36.6732C95.3449 36.5606 94.9595 36.4781 94.5692 36.4254C93.3144 36.2554 92.3924 36.9174 92.2576 38.1818Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M98.4792 38.4807C98.3432 40.0537 99.4837 40.7837 100.911 40.5954C101.451 40.5242 101.994 40.4011 102.541 40.2262C102.542 40.226 102.543 40.226 102.544 40.2263C102.545 40.2266 102.546 40.2271 102.547 40.2278C102.548 40.2285 102.549 40.2294 102.549 40.2303C102.549 40.2313 102.55 40.2324 102.55 40.2334C102.505 40.6618 102.438 41.0833 102.349 41.4979C102.345 41.5157 102.335 41.5267 102.318 41.5307C101.063 41.8344 99.0562 41.9777 97.9508 41.2271C96.5539 40.2808 96.4228 38.1867 97.1589 36.7473C97.9994 35.1051 100.057 34.7734 101.643 35.3699C102.82 35.8132 103.249 37.0801 103.101 38.3227C103.095 38.377 103.064 38.4045 103.01 38.4053L98.5497 38.4151C98.5067 38.4159 98.4833 38.4377 98.4792 38.4807ZM100.488 36.1958C99.519 36.0343 98.6626 36.6198 98.5655 37.6194C98.5606 37.6713 98.5845 37.6976 98.6371 37.6984L101.401 37.7045C101.411 37.7046 101.421 37.7027 101.431 37.6988C101.441 37.6949 101.449 37.6891 101.457 37.6817C101.464 37.6744 101.47 37.6656 101.474 37.6559C101.478 37.6463 101.48 37.6359 101.479 37.6255C101.459 36.9392 101.247 36.3234 100.488 36.1958Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n        <path\r\n          d=\"M66.8829 40.7181C66.7866 40.8379 66.6849 40.9558 66.578 41.0716C65.9671 41.7372 64.8823 41.8356 64.0199 41.7275C62.8623 41.5805 62.1663 40.8529 62.2501 39.6565C62.3643 38.0288 62.4364 36.5874 62.4664 35.3322C62.468 35.2844 62.4923 35.2605 62.5392 35.2605L64.1426 35.2593C64.2098 35.2593 64.2406 35.2925 64.2349 35.3589C64.1418 36.5606 64.062 37.7308 63.9956 38.8694C63.9483 39.6941 64.2969 40.3075 65.1702 40.3476C66.5622 40.412 66.9558 39.3783 67.036 38.2134C67.1048 37.2101 67.1445 36.2521 67.155 35.3395C67.1558 35.2893 67.1813 35.2642 67.2315 35.2642L68.9005 35.2593C68.9069 35.2593 68.9132 35.2606 68.9191 35.2631C68.9249 35.2657 68.9302 35.2694 68.9345 35.2741C68.9389 35.2788 68.9422 35.2843 68.9443 35.2903C68.9464 35.2964 68.9472 35.3028 68.9467 35.3091C68.7637 37.5919 68.658 39.6804 68.6296 41.5745C68.6296 41.5841 68.6258 41.5934 68.619 41.6002C68.6121 41.6071 68.6029 41.6109 68.5932 41.6109L67.0287 41.6121C66.9842 41.6121 66.9619 41.5894 66.9619 41.5441L66.9643 40.7473C66.9643 40.6606 66.9372 40.6509 66.8829 40.7181Z\"\r\n          fill=\"#14317A\"\r\n        />\r\n      </svg>\r\n    </>\r\n  );\r\n};\r\nexport default Main;\r\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,OAAO;QAAC,EAAE,SAAS,EAAE,KAAK,EAAa;IAC3C,qBACE;kBACE,cAAA,4TAAC;YACC,OAAM;YACN,OAAM;YACN,QAAO;YACP,SAAQ;YACR,MAAK;YACL,WAAW;YACX,OAAO;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;8BAEP,4TAAC;oBACC,GAAE;oBACF,MAAK;;;;;;;;;;;;;AAKf;KAnHM;uCAoHS","debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/components/animate-ui/motion-effect.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport {\r\n  AnimatePresence,\r\n  motion,\r\n  useInView,\r\n  type MotionProps,\r\n  type UseInViewOptions,\r\n  type Transition,\r\n  type Variant,\r\n} from 'motion/react';\r\n\r\ninterface MotionEffectProps extends MotionProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  transition?: Transition;\r\n  delay?: number;\r\n  inView?: boolean;\r\n  inViewMargin?: UseInViewOptions['margin'];\r\n  inViewOnce?: boolean;\r\n  blur?: string | boolean;\r\n  slide?:\r\n    | {\r\n        direction?: 'up' | 'down' | 'left' | 'right';\r\n        offset?: number;\r\n      }\r\n    | boolean;\r\n  fade?: { initialOpacity?: number; opacity?: number } | boolean;\r\n  zoom?:\r\n    | {\r\n        initialScale?: number;\r\n        scale?: number;\r\n      }\r\n    | boolean;\r\n}\r\n\r\nconst MotionEffect = React.forwardRef<HTMLDivElement, MotionEffectProps>(\r\n  (\r\n    {\r\n      children,\r\n      className,\r\n      transition = { type: 'spring', stiffness: 200, damping: 20 },\r\n      delay = 0,\r\n      inView = false,\r\n      inViewMargin = '0px',\r\n      inViewOnce = true,\r\n      blur = false,\r\n      slide = false,\r\n      fade = false,\r\n      zoom = false,\r\n      ...props\r\n    }: MotionEffectProps,\r\n    ref,\r\n  ) => {\r\n    const localRef = React.useRef<HTMLDivElement>(null);\r\n    React.useImperativeHandle(ref, () => localRef.current as HTMLDivElement);\r\n\r\n    const inViewResult = useInView(localRef, {\r\n      once: inViewOnce,\r\n      margin: inViewMargin,\r\n    });\r\n    const isInView = !inView || inViewResult;\r\n\r\n    const hiddenVariant: Variant = {};\r\n    const visibleVariant: Variant = {};\r\n\r\n    if (slide) {\r\n      const offset = typeof slide === 'boolean' ? 100 : (slide.offset ?? 100);\r\n      const direction =\r\n        typeof slide === 'boolean' ? 'left' : (slide.direction ?? 'left');\r\n      const axis = direction === 'up' || direction === 'down' ? 'y' : 'x';\r\n      hiddenVariant[axis] =\r\n        direction === 'left' || direction === 'up' ? -offset : offset;\r\n      visibleVariant[axis] = 0;\r\n    }\r\n\r\n    if (fade) {\r\n      hiddenVariant.opacity =\r\n        typeof fade === 'boolean' ? 0 : (fade.initialOpacity ?? 0);\r\n      visibleVariant.opacity =\r\n        typeof fade === 'boolean' ? 1 : (fade.opacity ?? 1);\r\n    }\r\n\r\n    if (zoom) {\r\n      hiddenVariant.scale =\r\n        typeof zoom === 'boolean' ? 0.5 : (zoom.initialScale ?? 0.5);\r\n      visibleVariant.scale = typeof zoom === 'boolean' ? 1 : (zoom.scale ?? 1);\r\n    }\r\n\r\n    if (blur) {\r\n      hiddenVariant.filter =\r\n        typeof blur === 'boolean' ? 'blur(10px)' : `blur(${blur})`;\r\n      visibleVariant.filter = 'blur(0px)';\r\n    }\r\n\r\n    return (\r\n      <AnimatePresence>\r\n        <motion.div\r\n          ref={localRef}\r\n          initial=\"hidden\"\r\n          animate={isInView ? 'visible' : 'hidden'}\r\n          exit=\"hidden\"\r\n          variants={{\r\n            hidden: hiddenVariant,\r\n            visible: visibleVariant,\r\n          }}\r\n          transition={{\r\n            ...transition,\r\n            delay: (transition?.delay ?? 0) + delay,\r\n          }}\r\n          className={className}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </motion.div>\r\n      </AnimatePresence>\r\n    );\r\n  },\r\n);\r\n\r\nMotionEffect.displayName = 'MotionEffect';\r\n\r\nexport { MotionEffect, type MotionEffectProps };\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAqCA,MAAM,6BAAe,GAAA,0SAAgB,SACnC,QAeE;QAdA,EACE,QAAQ,EACR,SAAS,EACT,aAAa;QAAE,MAAM;QAAU,WAAW;QAAK,SAAS;IAAG,CAAC,EAC5D,QAAQ,CAAC,EACT,SAAS,KAAK,EACd,eAAe,KAAK,EACpB,aAAa,IAAI,EACjB,OAAO,KAAK,EACZ,QAAQ,KAAK,EACb,OAAO,KAAK,EACZ,OAAO,KAAK,EACZ,GAAG,OACe;;IAGpB,MAAM,WAAW,sSAAY,CAAiB;IAC9C,mTAAyB,CAAC;4CAAK,IAAM,SAAS,OAAO;;IAErD,MAAM,eAAe,IAAA,mSAAS,EAAC,UAAU;QACvC,MAAM;QACN,QAAQ;IACV;IACA,MAAM,WAAW,CAAC,UAAU;IAE5B,MAAM,gBAAyB,CAAC;IAChC,MAAM,iBAA0B,CAAC;IAEjC,IAAI,OAAO;YAC0C;QAAnD,MAAM,SAAS,OAAO,UAAU,YAAY,MAAO,CAAA,gBAAA,MAAM,MAAM,cAAZ,2BAAA,gBAAgB;YAE1B;QADzC,MAAM,YACJ,OAAO,UAAU,YAAY,SAAU,CAAA,mBAAA,MAAM,SAAS,cAAf,8BAAA,mBAAmB;QAC5D,MAAM,OAAO,cAAc,QAAQ,cAAc,SAAS,MAAM;QAChE,aAAa,CAAC,KAAK,GACjB,cAAc,UAAU,cAAc,OAAO,CAAC,SAAS;QACzD,cAAc,CAAC,KAAK,GAAG;IACzB;IAEA,IAAI,MAAM;YAE2B;QADnC,cAAc,OAAO,GACnB,OAAO,SAAS,YAAY,IAAK,CAAA,uBAAA,KAAK,cAAc,cAAnB,kCAAA,uBAAuB;YAEvB;QADnC,eAAe,OAAO,GACpB,OAAO,SAAS,YAAY,IAAK,CAAA,gBAAA,KAAK,OAAO,cAAZ,2BAAA,gBAAgB;IACrD;IAEA,IAAI,MAAM;YAE6B;QADrC,cAAc,KAAK,GACjB,OAAO,SAAS,YAAY,MAAO,CAAA,qBAAA,KAAK,YAAY,cAAjB,gCAAA,qBAAqB;YACF;QAAxD,eAAe,KAAK,GAAG,OAAO,SAAS,YAAY,IAAK,CAAA,cAAA,KAAK,KAAK,cAAV,yBAAA,cAAc;IACxE;IAEA,IAAI,MAAM;QACR,cAAc,MAAM,GAClB,OAAO,SAAS,YAAY,eAAe,AAAC,QAAY,OAAL,MAAK;QAC1D,eAAe,MAAM,GAAG;IAC1B;QAegB;IAbhB,qBACE,4TAAC,qTAAe;kBACd,cAAA,4TAAC,6SAAM,CAAC,GAAG;YACT,KAAK;YACL,SAAQ;YACR,SAAS,WAAW,YAAY;YAChC,MAAK;YACL,UAAU;gBACR,QAAQ;gBACR,SAAS;YACX;YACA,YAAY;gBACV,GAAG,UAAU;gBACb,OAAO,CAAC,CAAA,oBAAA,uBAAA,iCAAA,WAAY,KAAK,cAAjB,+BAAA,oBAAqB,CAAC,IAAI;YACpC;YACA,WAAW;YACV,GAAG,KAAK;sBAER;;;;;;;;;;;AAIT;;QA5DuB,mSAAS;;;;QAAT,mSAAS;;;;AA+DlC,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/components/animate-ui/ripple-button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport { type HTMLMotionProps, motion, type Transition } from 'motion/react';\r\n\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Ripple {\r\n  id: number;\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\ninterface RippleButtonProps extends HTMLMotionProps<'button'> {\r\n  children: React.ReactNode;\r\n  rippleClassName?: string;\r\n  scale?: number;\r\n  transition?: Transition;\r\n}\r\n\r\nconst RippleButton = React.forwardRef<HTMLButtonElement, RippleButtonProps>(\r\n  (\r\n    {\r\n      children,\r\n      onClick,\r\n      className,\r\n      rippleClassName,\r\n      scale = 10,\r\n      transition = { duration: 0.6, ease: 'easeOut' },\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    const [ripples, setRipples] = React.useState<Ripple[]>([]);\r\n    const buttonRef = React.useRef<HTMLButtonElement>(null);\r\n    React.useImperativeHandle(\r\n      ref,\r\n      () => buttonRef.current as HTMLButtonElement,\r\n    );\r\n\r\n    const createRipple = React.useCallback(\r\n      (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        const button = buttonRef.current;\r\n        if (!button) return;\r\n\r\n        const rect = button.getBoundingClientRect();\r\n        const x = event.clientX - rect.left;\r\n        const y = event.clientY - rect.top;\r\n\r\n        const newRipple: Ripple = {\r\n          id: Date.now(),\r\n          x,\r\n          y,\r\n        };\r\n\r\n        setRipples((prev) => [...prev, newRipple]);\r\n\r\n        setTimeout(() => {\r\n          setRipples((prev) => prev.filter((r) => r.id !== newRipple.id));\r\n        }, 600);\r\n      },\r\n      [],\r\n    );\r\n\r\n    const handleClick = React.useCallback(\r\n      (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        createRipple(event);\r\n        if (onClick) {\r\n          onClick(event);\r\n        }\r\n      },\r\n      [createRipple, onClick],\r\n    );\r\n\r\n    return (\r\n      <motion.button\r\n        ref={buttonRef}\r\n        onClick={handleClick}\r\n        whileTap={{ scale: 0.95 }}\r\n        whileHover={{ scale: 1.05 }}\r\n        className={cn(\r\n          'relative h-10 px-4 py-2 text-sm font-medium text-primary-foreground overflow-hidden bg-primary cursor-pointer rounded-lg focus:outline-none',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {ripples.map((ripple) => (\r\n          <motion.span\r\n            key={ripple.id}\r\n            initial={{ scale: 0, opacity: 0.5 }}\r\n            animate={{ scale, opacity: 0 }}\r\n            transition={transition}\r\n            className={cn(\r\n              'absolute bg-primary-foreground rounded-full size-5 pointer-events-none',\r\n              rippleClassName,\r\n            )}\r\n            style={{\r\n              top: ripple.y - 10,\r\n              left: ripple.x - 10,\r\n            }}\r\n          />\r\n        ))}\r\n      </motion.button>\r\n    );\r\n  },\r\n);\r\n\r\nRippleButton.displayName = 'RippleButton';\r\n\r\nexport { RippleButton, type RippleButtonProps };\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;;;AALA;;;;AAoBA,MAAM,6BAAe,GAAA,0SAAgB,SACnC,QAUE;QATA,EACE,QAAQ,EACR,OAAO,EACP,SAAS,EACT,eAAe,EACf,QAAQ,EAAE,EACV,aAAa;QAAE,UAAU;QAAK,MAAM;IAAU,CAAC,EAC/C,GAAG,OACJ;;IAGD,MAAM,CAAC,SAAS,WAAW,GAAG,wSAAc,CAAW,EAAE;IACzD,MAAM,YAAY,sSAAY,CAAoB;IAClD,mTAAyB,CACvB;4CACA,IAAM,UAAU,OAAO;;IAGzB,MAAM,eAAe,2SAAiB;kDACpC,CAAC;YACC,MAAM,SAAS,UAAU,OAAO;YAChC,IAAI,CAAC,QAAQ;YAEb,MAAM,OAAO,OAAO,qBAAqB;YACzC,MAAM,IAAI,MAAM,OAAO,GAAG,KAAK,IAAI;YACnC,MAAM,IAAI,MAAM,OAAO,GAAG,KAAK,GAAG;YAElC,MAAM,YAAoB;gBACxB,IAAI,KAAK,GAAG;gBACZ;gBACA;YACF;YAEA;0DAAW,CAAC,OAAS;2BAAI;wBAAM;qBAAU;;YAEzC;0DAAW;oBACT;kEAAW,CAAC,OAAS,KAAK,MAAM;0EAAC,CAAC,IAAM,EAAE,EAAE,KAAK,UAAU,EAAE;;;gBAC/D;yDAAG;QACL;iDACA,EAAE;IAGJ,MAAM,cAAc,2SAAiB;iDACnC,CAAC;YACC,aAAa;YACb,IAAI,SAAS;gBACX,QAAQ;YACV;QACF;gDACA;QAAC;QAAc;KAAQ;IAGzB,qBACE,4TAAC,6SAAM,CAAC,MAAM;QACZ,KAAK;QACL,SAAS;QACT,UAAU;YAAE,OAAO;QAAK;QACxB,YAAY;YAAE,OAAO;QAAK;QAC1B,WAAW,IAAA,4HAAE,EACX,+IACA;QAED,GAAG,KAAK;;YAER;YACA,QAAQ,GAAG,CAAC,CAAC,uBACZ,4TAAC,6SAAM,CAAC,IAAI;oBAEV,SAAS;wBAAE,OAAO;wBAAG,SAAS;oBAAI;oBAClC,SAAS;wBAAE;wBAAO,SAAS;oBAAE;oBAC7B,YAAY;oBACZ,WAAW,IAAA,4HAAE,EACX,0EACA;oBAEF,OAAO;wBACL,KAAK,OAAO,CAAC,GAAG;wBAChB,MAAM,OAAO,CAAC,GAAG;oBACnB;mBAXK,OAAO,EAAE;;;;;;;;;;;AAgBxB;;AAGF,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"w-full px-3 py-2 rounded-md border border-border bg-gray-50 placeholder:text-placeholder placeholder:text-sm placeholder:font-normal focus:ring-0 focus:outline-none\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,wKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAZS","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/components/ui/input-otp.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { MinusIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction InputOTP({\n  className,\n  containerClassName,\n  ...props\n}: React.ComponentProps<typeof OTPInput> & {\n  containerClassName?: string\n}) {\n  return (\n    <OTPInput\n      data-slot=\"input-otp\"\n      containerClassName={cn(\n        \"flex items-center gap-2 has-disabled:opacity-50\",\n        containerClassName\n      )}\n      className={cn(\"disabled:cursor-not-allowed\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputOTPGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-otp-group\"\n      className={cn(\"flex items-center\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputOTPSlot({\n  index,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  index: number\n}) {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {}\n\n  return (\n    <div\n      data-slot=\"input-otp-slot\"\n      data-active={isActive}\n      className={cn(\n        \"data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"animate-caret-blink bg-foreground h-4 w-px duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction InputOTPSeparator({ ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div data-slot=\"input-otp-separator\" role=\"separator\" {...props}>\n      <MinusIcon />\n    </div>\n  )\n}\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAEA;;;AANA;;;;;AAQA,SAAS,SAAS,KAMjB;QANiB,EAChB,SAAS,EACT,kBAAkB,EAClB,GAAG,OAGJ,GANiB;IAOhB,qBACE,4TAAC,mSAAQ;QACP,aAAU;QACV,oBAAoB,IAAA,4HAAE,EACpB,mDACA;QAEF,WAAW,IAAA,4HAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGf;KAlBS;AAoBT,SAAS,cAAc,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACrB,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,qBAAqB;QAClC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,KAMrB;QANqB,EACpB,KAAK,EACL,SAAS,EACT,GAAG,OAGJ,GANqB;;IAOpB,MAAM,kBAAkB,0SAAgB,CAAC,0SAAe;QACf;IAAzC,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,GAAG,CAAA,+BAAA,4BAAA,sCAAA,gBAAiB,KAAK,CAAC,MAAM,cAA7B,0CAAA,+BAAiC,CAAC;IAE3E,qBACE,4TAAC;QACC,aAAU;QACV,eAAa;QACb,WAAW,IAAA,4HAAE,EACX,4fACA;QAED,GAAG,KAAK;;YAER;YACA,8BACC,4TAAC;gBAAI,WAAU;0BACb,cAAA,4TAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAKzB;GA5BS;MAAA;AA8BT,SAAS,kBAAkB,KAAyC;QAAzC,EAAE,GAAG,OAAoC,GAAzC;IACzB,qBACE,4TAAC;QAAI,aAAU;QAAsB,MAAK;QAAa,GAAG,KAAK;kBAC7D,cAAA,4TAAC,4SAAS;;;;;;;;;;AAGhB;MANS","debugId":null}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/lib/api-error-handler.ts"],"sourcesContent":["/**\r\n * Comprehensive API error handler utility\r\n * Handles various error structures including arrays, Ardalis Result patterns, and different API response formats\r\n */\r\n\r\n// Helper function to safely get error message from various structures\r\nconst extractErrorMessage = (obj: any): string | null => {\r\n  if (!obj) return null;\r\n  \r\n  // Check if obj is an array, process each item\r\n  if (Array.isArray(obj)) {\r\n    const errorMessages: string[] = [];\r\n    \r\n    for (const item of obj) {\r\n      if (item && typeof item === 'object') {\r\n        // Check for errorMessage property (our target)\r\n        if (typeof item.errorMessage === 'string' && item.errorMessage.trim()) {\r\n          errorMessages.push(item.errorMessage);\r\n        }\r\n        // Check for other properties if errorMessage is not found\r\n        else if (typeof item.detail === 'string' && item.detail.trim()) {\r\n          errorMessages.push(item.detail);\r\n        }\r\n        else if (typeof item.message === 'string' && item.message.trim()) {\r\n          errorMessages.push(item.message);\r\n        }\r\n      }\r\n    }\r\n    \r\n    if (errorMessages.length > 0) {\r\n      return errorMessages.join('\\n');\r\n    }\r\n  }\r\n  \r\n  // Normalize common casing differences (FastEndpoints often uses capital keys)\r\n  const errorsKey = (obj.errors ?? obj.Errors) as any;\r\n  const messageKey = obj.message ?? obj.Message;\r\n  const detailKey = obj.detail ?? obj.Detail;\r\n  const titleKey = obj.title ?? obj.Title;\r\n  const statusKey = obj.status ?? obj.Status ?? obj.statusCode ?? obj.StatusCode;\r\n\r\n  // Check for Ardalis/FastEndpoints Result pattern - errors array (objects or strings)\r\n  if (errorsKey && Array.isArray(errorsKey)) {\r\n    const errorMessages: string[] = [];\r\n    \r\n    for (const error of errorsKey) {\r\n      if (error && typeof error === 'object') {\r\n        // Check for errorMessage property (our target)\r\n        if (typeof error.errorMessage === 'string' && error.errorMessage.trim()) {\r\n          errorMessages.push(error.errorMessage);\r\n        }\r\n        // Check for other properties if errorMessage is not found\r\n        else if (typeof error.detail === 'string' && error.detail.trim()) {\r\n          errorMessages.push(error.detail);\r\n        }\r\n        else if (typeof error.message === 'string' && error.message.trim()) {\r\n          errorMessages.push(error.message);\r\n        }\r\n        // Check for value property (common in Ardalis Result)\r\n        else if (typeof error.value === 'string' && error.value.trim()) {\r\n          errorMessages.push(error.value);\r\n        }\r\n        // Check for code/description tuple (common in FastEndpoints validation)\r\n        else if (typeof (error.description ?? error.Description) === 'string') {\r\n          errorMessages.push(String(error.description ?? error.Description));\r\n        }\r\n      } else if (typeof error === 'string' && error.trim()) {\r\n        // Ardalis sometimes returns array of strings\r\n        errorMessages.push(error);\r\n      }\r\n    }\r\n    \r\n    if (errorMessages.length > 0) {\r\n      return errorMessages.join('\\n');\r\n    }\r\n  }\r\n  \r\n  // Check for Ardalis Result pattern - isSuccess = false with single error\r\n  if (obj.isSuccess === false) {\r\n    // Check for single error object\r\n    if (obj.error && typeof obj.error === 'object') {\r\n      const errorMsg = extractErrorMessage(obj.error);\r\n      if (errorMsg) return errorMsg;\r\n    }\r\n    \r\n    // Check for error message directly\r\n    if (typeof obj.errorMessage === 'string' && obj.errorMessage.trim()) {\r\n      return obj.errorMessage;\r\n    }\r\n    \r\n    // Check for value property (common in failed Ardalis Results)\r\n    if (typeof obj.value === 'string' && obj.value.trim()) {\r\n      return obj.value;\r\n    }\r\n  }\r\n  \r\n  // Check for errorMessage property (our target)\r\n  if (typeof obj.errorMessage === 'string' && obj.errorMessage.trim()) {\r\n    return obj.errorMessage;\r\n  }\r\n  \r\n  // Check for validation errors object (lower/upper-case keys)\r\n  if (errorsKey && typeof errorsKey === 'object' && !Array.isArray(errorsKey)) {\r\n    const validationErrors = Object.values(errorsKey).flat().join(\"\\n\");\r\n    if (validationErrors.trim()) {\r\n      return `خطاهای اعتبارسنجی:\\n${validationErrors}`;\r\n    }\r\n  }\r\n  \r\n  // ProblemDetails style\r\n  if (typeof detailKey === 'string' && detailKey.trim()) {\r\n    return detailKey;\r\n  }\r\n  \r\n  // Message style\r\n  if (typeof messageKey === 'string' && messageKey.trim()) {\r\n    return messageKey;\r\n  }\r\n\r\n  // Combine title + status\r\n  if (titleKey && statusKey) {\r\n    return `${titleKey} (${statusKey})`;\r\n  }\r\n  \r\n  return null;\r\n};\r\n\r\n/**\r\n * Main API error handler function\r\n * @param error - The error object from API calls\r\n * @param defaultMessage - Default message to show if no specific error is found\r\n * @returns Formatted error message string with preserved status codes\r\n */\r\nexport const handleApiError = (error: any, defaultMessage: string = \"خطایی رخ داد. لطفا دوباره تلاش کنید.\"): string => {\r\n  console.log(\"Handling API error:\", error);\r\n  \r\n  // Preserve specific error codes like 429 (Too Many Requests)\r\n  if (error?.status === 429) {\r\n    return \"درخواست‌های زیادی ارسال شده است. لطفا کمی صبر کنید و دوباره تلاش کنید.\";\r\n  }\r\n  \r\n  // 1. Check ApiError body (swagger-generated errors)\r\n  if (error?.body) {\r\n    const message = extractErrorMessage(error.body);\r\n    if (message) {\r\n      console.log(\"Found error in error.body:\", message);\r\n      return message;\r\n    }\r\n  }\r\n  \r\n  // 2. Check if error itself has the properties\r\n  const directMessage = extractErrorMessage(error);\r\n  if (directMessage) {\r\n    console.log(\"Found error in error object:\", directMessage);\r\n    return directMessage;\r\n  }\r\n  \r\n  // 3. Check response.body structure\r\n  if (error?.response?.body) {\r\n    const message = extractErrorMessage(error.response.body);\r\n    if (message) {\r\n      console.log(\"Found error in error.response.body:\", message);\r\n      return message;\r\n    }\r\n  }\r\n  \r\n  // 4. Check if body is a string and try to parse it\r\n  if (typeof error?.body === 'string') {\r\n    try {\r\n      const parsed = JSON.parse(error.body);\r\n      const message = extractErrorMessage(parsed);\r\n      if (message) {\r\n        console.log(\"Found error in parsed body:\", message);\r\n        return message;\r\n      }\r\n    } catch (e) {\r\n      console.log(\"Failed to parse error body as JSON\");\r\n    }\r\n  }\r\n  \r\n  // 5. Check if response.body is a string and try to parse it\r\n  if (typeof error?.response?.body === 'string') {\r\n    try {\r\n      const parsed = JSON.parse(error.response.body);\r\n      const message = extractErrorMessage(parsed);\r\n      if (message) {\r\n        console.log(\"Found error in parsed response.body:\", message);\r\n        return message;\r\n      }\r\n    } catch (e) {\r\n      console.log(\"Failed to parse response.body as JSON\");\r\n    }\r\n  }\r\n  \r\n  // 6. Fallback to error.message if it's not generic\r\n  if (error?.message && \r\n      error.message !== 'Bad Request' && \r\n      error.message !== 'Network Error' &&\r\n      error.message !== 'Unauthorized' &&\r\n      error.message !== 'Forbidden' &&\r\n      error.message.trim()) {\r\n    console.log(\"Using error.message as fallback:\", error.message);\r\n    return error.message;\r\n  }\r\n  \r\n  // 7. Last resort - return default message\r\n  console.log(\"No meaningful error message found, using default\");\r\n  return defaultMessage;\r\n};\r\n\r\n/**\r\n * Clean error message by removing common prefixes\r\n * @param errorMessage - Raw error message\r\n * @returns Cleaned error message\r\n */\r\nexport const cleanErrorMessage = (errorMessage: string): string => {\r\n  return errorMessage\r\n    .replace(\"Next error(s) occurred:*\", \"\")\r\n    .replace(\"Next error(s) occurred:\", \"\")\r\n    .trim();\r\n};\r\n\r\n/**\r\n * Handle API error with automatic cleaning\r\n * @param error - The error object from API calls\r\n * @param defaultMessage - Default message to show if no specific error is found\r\n * @returns Cleaned and formatted error message string\r\n */\r\nexport const handleApiErrorWithCleanup = (error: any, defaultMessage: string = \"خطایی رخ داد. لطفا دوباره تلاش کنید.\"): string => {\r\n  const message = handleApiError(error, defaultMessage);\r\n  return cleanErrorMessage(message);\r\n};\r\n\r\n/**\r\n * Handle API error and return detailed error information including status codes\r\n * @param error - The error object from API calls\r\n * @param defaultMessage - Default message to show if no specific error is found\r\n * @returns Object containing message, status code, and other error details\r\n */\r\nexport const handleApiErrorWithDetails = (error: any, defaultMessage: string = \"خطایی رخ داد. لطفا دوباره تلاش کنید.\") => {\r\n  const message = handleApiErrorWithCleanup(error, defaultMessage);\r\n  \r\n  return {\r\n    message,\r\n    status: error?.status || error?.response?.status || null,\r\n    code: error?.code || error?.response?.code || null,\r\n    type: error?.body?.type || error?.response?.body?.type || null,\r\n    title: error?.body?.title || error?.response?.body?.title || null,\r\n    detail: error?.body?.detail || error?.response?.body?.detail || null,\r\n    body: error?.body || error?.response?.body || null,\r\n  };\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/app/%28auth%29/login/components/login-form.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { resendCode, checkRegistration } from \"@/app/actions/auth\";\r\nimport Logo from \"@/assets/icon/logo\";\r\nimport { MotionEffect } from \"@/components/animate-ui/motion-effect\";\r\nimport { RippleButton } from \"@/components/animate-ui/ripple-button\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  InputOTP,\r\n  InputOTPGroup,\r\n  InputOTPSlot,\r\n} from \"@/components/ui/input-otp\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { ArrowLeftIcon, ArrowRight, Phone } from \"lucide-react\";\r\nimport { signIn } from \"next-auth/react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useGoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { toast } from \"sonner\";\r\nimport * as z from \"zod\";\r\nimport {\r\n  handleApiErrorWithCleanup,\r\n  cleanErrorMessage,\r\n} from \"@/lib/api-error-handler\";\r\n\r\n// Custom pattern for Persian/Arabic and English digits\r\nconst REGEXP_PERSIAN_ENGLISH_DIGITS = \"[0-9۰-۹٠-٩]*\";\r\n\r\n// Enhanced Persian/Arabic to English number conversion specifically for OTP\r\nconst convertPersianToEnglishForOTP = (str: string): string => {\r\n  if (!str) return str;\r\n\r\n  // Persian digits: ۰۱۲۳۴۵۶۷۸۹ to 0123456789\r\n  const persianDigits = \"۰۱۲۳۴۵۶۷۸۹\";\r\n  // Arabic digits: ٠١٢٣٤٥٦٧٨٩ to 0123456789\r\n  const arabicDigits = \"٠١٢٣٤٥٦٧٨٩\";\r\n\r\n  let result = str;\r\n\r\n  // Convert Persian digits\r\n  for (let i = 0; i < persianDigits.length; i++) {\r\n    result = result.replace(new RegExp(persianDigits[i], \"g\"), i.toString());\r\n  }\r\n\r\n  // Convert Arabic digits\r\n  for (let i = 0; i < arabicDigits.length; i++) {\r\n    result = result.replace(new RegExp(arabicDigits[i], \"g\"), i.toString());\r\n  }\r\n\r\n  // Only keep English digits\r\n  result = result.replace(/[^0-9]/g, \"\");\r\n\r\n  return result;\r\n};\r\n\r\n// Add TypeScript declarations for Web OTP API\r\ndeclare global {\r\n  interface OTPCredential extends Credential {\r\n    code: string;\r\n  }\r\n\r\n  interface CredentialRequestOptions {\r\n    otp?: {\r\n      transport: string[];\r\n    };\r\n  }\r\n}\r\n// Add utility function to convert Persian numbers to English\r\nconst convertPersianToEnglish = (value: string): string => {\r\n  const persianNumbers = [\"۰\", \"۱\", \"۲\", \"۳\", \"۴\", \"۵\", \"۶\", \"۷\", \"۸\", \"۹\"];\r\n  const arabicNumbers = [\"٠\", \"١\", \"٢\", \"٣\", \"٤\", \"٥\", \"٦\", \"٧\", \"٨\", \"٩\"];\r\n\r\n  return value\r\n    .split(\"\")\r\n    .map((char) => {\r\n      // Check Persian numbers\r\n      const persianIndex = persianNumbers.indexOf(char);\r\n      if (persianIndex !== -1) return persianIndex.toString();\r\n\r\n      // Check Arabic numbers\r\n      const arabicIndex = arabicNumbers.indexOf(char);\r\n      if (arabicIndex !== -1) return arabicIndex.toString();\r\n\r\n      // Return as is if not found\r\n      return char;\r\n    })\r\n    .join(\"\");\r\n};\r\n\r\n// Add utility function to format phone number display\r\nconst formatPhoneNumber = (value: string): string => {\r\n  // Remove all non-digits\r\n  const cleanValue = value.replace(/\\D/g, \"\");\r\n\r\n  // Format as 0XXX XXX XXXX\r\n  if (cleanValue.length <= 4) {\r\n    return cleanValue;\r\n  } else if (cleanValue.length <= 7) {\r\n    return `${cleanValue.slice(0, 4)} ${cleanValue.slice(4)}`;\r\n  } else if (cleanValue.length <= 11) {\r\n    return `${cleanValue.slice(0, 4)} ${cleanValue.slice(\r\n      4,\r\n      7\r\n    )} ${cleanValue.slice(7)}`;\r\n  } else {\r\n    return `${cleanValue.slice(0, 4)} ${cleanValue.slice(\r\n      4,\r\n      7\r\n    )} ${cleanValue.slice(7, 11)}`;\r\n  }\r\n};\r\n\r\nconst phoneSchema = z.object({\r\n  phoneNumber: z\r\n    .string()\r\n    .refine((val) => val.replace(/\\D/g, \"\").trim().length === 11, {\r\n      message: \"شماره موبایل باید 11 رقم باشد\",\r\n    })\r\n    .refine((val) => val.replace(/\\D/g, \"\").trim().startsWith(\"09\"), {\r\n      message: \"شماره موبایل باید با 09 شروع شود\",\r\n    })\r\n    .refine((val) => val.replace(/\\D/g, \"\").trim().length <= 11, {\r\n      message: \"شماره موبایل نمی‌تواند بیشتر از 11 رقم باشد\",\r\n    }),\r\n});\r\n\r\nconst otpSchema = z.object({\r\n  otp: z.string().length(6, \"کد تایید باید ۶ رقم باشد\"),\r\n});\r\n\r\ntype PhoneFormValues = z.infer<typeof phoneSchema>;\r\ntype OtpFormValues = z.infer<typeof otpSchema>;\r\n\r\ninterface LoginFormProps {\r\n  callbackUrl?: string;\r\n}\r\n\r\nexport function LoginForm({ callbackUrl = \"/\" }: LoginFormProps) {\r\n  const router = useRouter();\r\n  const phoneInputRef = useRef<HTMLInputElement>(null);\r\n  const { executeRecaptcha } = useGoogleReCaptcha();\r\n  const [isRecaptchaLoaded, setIsRecaptchaLoaded] = useState(true);\r\n  const [step, setStep] = useState<\"phone\" | \"otp\">(\"phone\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isSendingOtp, setIsSendingOtp] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [countdown, setCountdown] = useState(180);\r\n  const [canResend, setCanResend] = useState(false);\r\n  const [savedPhoneNumber, setSavedPhoneNumber] = useState(\"\");\r\n  const [isInputReady, setIsInputReady] = useState(false);\r\n  const firstOtpInputRef = useRef<HTMLInputElement>(null);\r\n  const [hasAutoSubmitted, setHasAutoSubmitted] = useState(false);\r\n  const [previousStep, setPreviousStep] = useState<string | null>(null);\r\n\r\n\r\n  // Toast management with consistent IDs\r\n  const TOAST_IDS = {\r\n    PHONE_SUBMIT: \"phone-submit\",\r\n    OTP_SEND: \"otp-send\",\r\n    OTP_VERIFY: \"otp-verify\",\r\n    PASSWORD_LOGIN: \"password-login\",\r\n    FORGOT_PASSWORD: \"forgot-password\",\r\n    RESET_PASSWORD: \"reset-password\",\r\n    GENERAL: \"general\",\r\n  };\r\n\r\n  // Track last shown toast to avoid duplicates and race conditions\r\n  const activeToastsRef = useRef<\r\n    Record<string, { type: \"loading\" | \"success\" | \"error\"; message: string }>\r\n  >({});\r\n\r\n  // Build a readable error message compatible with FastEndpoints/Ardalis/ProblemDetails\r\n  const buildErrorMessageFromDetails = (\r\n    details: any,\r\n    fallback: string,\r\n    errLike?: unknown\r\n  ): string => {\r\n    // Try to use our comprehensive API error handler first\r\n    try {\r\n      if (details) {\r\n        const msg = handleApiErrorWithCleanup(details, fallback);\r\n        if (msg && msg.trim()) return msg;\r\n      }\r\n      if (errLike) {\r\n        // If a string came from NextAuth (query param), clean it up\r\n        if (typeof errLike === \"string\") {\r\n          const msg = cleanErrorMessage(errLike);\r\n          if (msg && msg.trim()) return msg;\r\n        }\r\n        // If it's an object, let the handler try\r\n        if (typeof errLike === \"object\") {\r\n          const msg2 = handleApiErrorWithCleanup(errLike, fallback);\r\n          if (msg2 && msg2.trim()) return msg2;\r\n        }\r\n      }\r\n    } catch {}\r\n    return fallback;\r\n  };\r\n\r\n  // Centralized toast management function\r\n  const showToast = (\r\n    type: \"loading\" | \"success\" | \"error\",\r\n    message: string,\r\n    id: string = TOAST_IDS.GENERAL\r\n  ) => {\r\n    console.log(\"📱 [TOAST] showToast called with:\", { type, message, id });\r\n\r\n    // Always dismiss any existing toast with the same ID first\r\n    // toast.dismiss(id);\r\n    console.log(\"📱 [TOAST] Dismissed existing toast with id:\", id);\r\n\r\n    // Small delay to ensure dismiss is processed\r\n    setTimeout(() => {\r\n      // Idempotent toast path (prevents duplicates and flicker)\r\n      {\r\n        const last = activeToastsRef.current[id];\r\n        if (last && last.type === type && last.message === message) {\r\n          return;\r\n        }\r\n        if (type === \"loading\") {\r\n          toast.loading(message, { id, duration: Infinity });\r\n        } else if (type === \"success\") {\r\n          toast.success(message, { id, duration: 6500 });\r\n        } else {\r\n          toast.error(message, { id, duration: 6500 });\r\n        }\r\n        activeToastsRef.current[id] = { type, message };\r\n        return;\r\n      }\r\n      // Show the new toast with the specified ID\r\n      if (type === \"loading\") {\r\n        console.log(\"📱 [TOAST] Showing loading toast\");\r\n        toast.loading(message, { id });\r\n      } else if (type === \"success\") {\r\n        console.log(\"📱 [TOAST] Showing success toast\");\r\n        toast.success(message, { id, duration: 5000 });\r\n      } else if (type === \"error\") {\r\n        console.log(\"📱 [TOAST] Showing error toast\");\r\n        toast.error(message, { id, duration: 5000 });\r\n      }\r\n\r\n      console.log(\"📱 [TOAST] Toast should now be visible\");\r\n    }, 50);\r\n  };\r\n\r\n  // Add effect to track reCAPTCHA loading state\r\n  useEffect(() => {\r\n    if (executeRecaptcha) {\r\n      setIsRecaptchaLoaded(true);\r\n    }\r\n  }, [executeRecaptcha]);\r\n\r\n  // Fast readiness: mark loaded as soon as grecaptcha badge or ready() is available\r\n  useEffect(() => {\r\n    if (isRecaptchaLoaded) return;\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    const markLoadedOnce = () =>\r\n      setIsRecaptchaLoaded((prev) => (prev ? prev : true));\r\n\r\n    const w: any = window as any;\r\n\r\n    // If already ready by any signal, mark loaded now\r\n    if (\r\n      executeRecaptcha ||\r\n      w?.grecaptcha?.ready ||\r\n      document.querySelector(\".grecaptcha-badge\")\r\n    ) {\r\n      try {\r\n        if (w?.grecaptcha?.ready) {\r\n          w.grecaptcha.ready(() => markLoadedOnce());\r\n        }\r\n      } catch {}\r\n      markLoadedOnce();\r\n      return;\r\n    }\r\n\r\n    // Observe DOM for badge injection (most reliable visual signal)\r\n    const observer = new MutationObserver(() => {\r\n      if (document.querySelector(\".grecaptcha-badge\")) {\r\n        markLoadedOnce();\r\n        observer.disconnect();\r\n      }\r\n    });\r\n    try {\r\n      observer.observe(document.documentElement, {\r\n        childList: true,\r\n        subtree: true,\r\n      });\r\n    } catch {}\r\n\r\n    // Short polling for grecaptcha.ready appearance\r\n    let tries = 0;\r\n    const interval = setInterval(() => {\r\n      if (document.querySelector(\".grecaptcha-badge\")) {\r\n        markLoadedOnce();\r\n        clearInterval(interval);\r\n        try {\r\n          observer.disconnect();\r\n        } catch {}\r\n        return;\r\n      }\r\n      if (w?.grecaptcha?.ready) {\r\n        try {\r\n          w.grecaptcha.ready(() => markLoadedOnce());\r\n        } catch {}\r\n        markLoadedOnce();\r\n        clearInterval(interval);\r\n        try {\r\n          observer.disconnect();\r\n        } catch {}\r\n        return;\r\n      }\r\n      if (++tries > 100) {\r\n        // Give up after ~5s\r\n        clearInterval(interval);\r\n        try {\r\n          observer.disconnect();\r\n        } catch {}\r\n      }\r\n    }, 50);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n      try {\r\n        observer.disconnect();\r\n      } catch {}\r\n    };\r\n  }, [executeRecaptcha, isRecaptchaLoaded]);\r\n\r\n  // reCAPTCHA function for OTP\r\n  // const executeReCaptchaForOtp = useCallback(async (): Promise<\r\n  //   string | null\r\n  // > => {\r\n  //   console.log(\"🔐 [reCAPTCHA] Starting execution for OTP action...\");\r\n\r\n  //   if (!executeRecaptcha) {\r\n  //     console.warn(\r\n  //       \"⚠️ [reCAPTCHA] Execute recaptcha not yet available for otp\"\r\n  //     );\r\n  //     return null;\r\n  //   }\r\n\r\n  //   try {\r\n  //     console.log('🔐 [reCAPTCHA] Executing reCAPTCHA with action: \"otp\"');\r\n  //     const token = await executeRecaptcha(\"otp\");\r\n  //     console.log(\r\n  //       \"✅ [reCAPTCHA] Token generated successfully for otp:\",\r\n  //       token\r\n  //     );\r\n  //     console.log(\"🔐 [reCAPTCHA] Token length:\", token?.length || 0);\r\n  //     return token;\r\n  //   } catch (error) {\r\n  //     console.error(\"❌ [reCAPTCHA] Error executing reCAPTCHA for otp:\", error);\r\n  //     return null;\r\n  //   }\r\n  // }, [executeRecaptcha]);\r\n\r\n  const phoneForm = useForm<PhoneFormValues>({\r\n    resolver: zodResolver(phoneSchema),\r\n    defaultValues: {\r\n      phoneNumber: \"\",\r\n    },\r\n  });\r\n\r\n  const otpForm = useForm<OtpFormValues>({\r\n    resolver: zodResolver(otpSchema),\r\n    defaultValues: {\r\n      otp: \"\",\r\n    },\r\n  });\r\n\r\n  // Handle countdown timer for OTP resend\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout | undefined;\r\n\r\n    if (step === \"otp\" && countdown > 0) {\r\n      console.log(\"Starting countdown timer from\", countdown);\r\n\r\n      timer = setInterval(() => {\r\n        setCountdown((prev) => {\r\n          const newValue = prev <= 1 ? 0 : prev - 1;\r\n          if (newValue === 0 && !canResend) {\r\n            console.log(\"Countdown reached zero, enabling resend\");\r\n            setCanResend(true);\r\n          }\r\n          return newValue;\r\n        });\r\n      }, 1000);\r\n    }\r\n\r\n    return () => {\r\n      if (timer) {\r\n        console.log(\"Clearing countdown timer\");\r\n        clearInterval(timer);\r\n      }\r\n    };\r\n  }, [step, countdown, canResend]);\r\n\r\n  // Reset countdown when step changes to OTP\r\n  useEffect(() => {\r\n    if (step === \"otp\") {\r\n      console.log(\"Resetting countdown for OTP step\");\r\n      // Don't reset countdown if we already have a valid countdown running\r\n      // This prevents reset on component re-renders\r\n      if (countdown === 0 || canResend) {\r\n        setCountdown(180);\r\n        setCanResend(false);\r\n      }\r\n    }\r\n  }, [step]);\r\n\r\n  // On step change, dismiss only lingering loading toasts; keep success/error visible\r\n  useEffect(() => {\r\n    const entries = Object.entries(activeToastsRef.current || {});\r\n    entries.forEach(([id, info]) => {\r\n      if (info.type === \"loading\") {\r\n        toast.dismiss(id);\r\n        delete activeToastsRef.current[id];\r\n      }\r\n    });\r\n  }, [step]);\r\n\r\n  // Clean up toasts when step changes to prevent confusion\r\n  useEffect(() => {\r\n    console.log(\"📱 [TOAST CLEANUP] Step changed to:\", step);\r\n    // Dismiss all existing toasts when step changes\r\n    Object.values(TOAST_IDS).forEach((id) => {\r\n      console.log(\"📱 [TOAST CLEANUP] Dismissing toast with id:\", id);\r\n      toast.dismiss(id);\r\n    });\r\n  }, [step]);\r\n\r\n  // New focus handling approach\r\n  useEffect(() => {\r\n    if (step === \"phone\") {\r\n      // Set input as ready after a short delay\r\n      const readyTimer = setTimeout(() => {\r\n        setIsInputReady(true);\r\n      }, 100);\r\n\r\n      return () => {\r\n        clearTimeout(readyTimer);\r\n        setIsInputReady(false);\r\n      };\r\n    }\r\n  }, [step]);\r\n  // Simplified focus handling\r\n  useLayoutEffect(() => {\r\n    if (step === \"phone\" && phoneInputRef.current) {\r\n      const input = phoneInputRef.current;\r\n      input.focus();\r\n    }\r\n  }, [step]);\r\n\r\n  const handleFocusClick = () => {\r\n    if (phoneInputRef.current) {\r\n      phoneInputRef.current.focus();\r\n    }\r\n  };\r\n\r\n  const handlePhoneSubmit = async (data: PhoneFormValues) => {\r\n    if (isSubmitting) {\r\n      console.log(\"Preventing duplicate phone submit\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      // Remove any non-digit characters from phone number\r\n      const cleanPhoneNumber = data.phoneNumber.replace(/\\D/g, \"\").trim();\r\n      console.log(\"Processing phone number:\", cleanPhoneNumber);\r\n      setSavedPhoneNumber(cleanPhoneNumber);\r\n\r\n      console.log(\r\n        \"📱 [PHONE SUBMIT] Executing reCAPTCHA for signup action on first step\"\r\n      );\r\n      // Execute reCAPTCHA for signup action immediately\r\n      // const recaptchaToken = await executeReCaptchaForSignup();\r\n      // if (!recaptchaToken) {\r\n      //   console.error(\"❌ [PHONE SUBMIT] reCAPTCHA execution failed, aborting\");\r\n      //   showToast(\r\n      //     \"error\", \r\n      //     \"خطا در تایید امنیتی. لطفا دوباره تلاش کنید.\",\r\n      //     TOAST_IDS.PHONE_SUBMIT\r\n      //   );\r\n      //   return;\r\n      // }\r\n\r\n      console.log(\r\n        \"📱 [PHONE SUBMIT] Calling registration API with reCAPTCHA token...\"\r\n      );\r\n      // Check registration with reCAPTCHA token\r\n      const result = await checkRegistration(cleanPhoneNumber);\r\n      // const result = await checkRegistration(cleanPhoneNumber, recaptchaToken);\r\n      console.log(\"Registration check result:\", result);\r\n\r\n      if (result.success) {\r\n        // If isRegistered is true, it means the user can register (phone number is available)\r\n        const userCanRegister = result.isRegistered === true;\r\n        console.log(\"User can register:\", userCanRegister);\r\n\r\n        // Update state\r\n        // setIsRegistered(userCanRegister);\r\n\r\n        if (!userCanRegister) {\r\n          // User exists - show login options\r\n          console.log(\"✅ [PHONE SUBMIT] User exists, showing password login\");\r\n          setStep(\"otp\");\r\n        } else {\r\n          // // رو کامنت کردم و بجاش میره توی ساخت پسوردotp به دلیل اختلالات فعلا\r\n          // console.log(\"✅ [PHONE SUBMIT] User exists, showing password login\");\r\n          // //otp هارد کد زدم به دلیل اختلالات\r\n          // const otpCode=123456\r\n          // const result = await confirmPhoneNumber(cleanPhoneNumber, otpCode);\r\n          // console.log(`OTP confirmation result for :`, result);\r\n          // setStep(\"register\");\r\n          // New user - OTP already sent by the API call above\r\n          console.log(\r\n            \"✅ [PHONE SUBMIT] New user registered, OTP sent to user\"\r\n          );\r\n          setPreviousStep(null); // Clear previous step since this is from phone step\r\n          setStep(\"otp\");\r\n          showToast(\r\n            \"success\",\r\n            \"کد تایید به شماره شما ارسال شد\",\r\n            TOAST_IDS.PHONE_SUBMIT\r\n          );\r\n          setCountdown(180);\r\n          setCanResend(false);\r\n        }\r\n      } else {\r\n        const msg = buildErrorMessageFromDetails(\r\n          (result as any)?.details,\r\n          \"خطا در بررسی وضعیت کاربر. لطفا دوباره تلاش کنید.\",\r\n          result.error\r\n        );\r\n        console.error(\"❌ [PHONE SUBMIT] Registration API failed:\", msg);\r\n        showToast(\"error\", msg, TOAST_IDS.PHONE_SUBMIT);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"❌ [PHONE SUBMIT] Phone verification error:\", err);\r\n      showToast(\r\n        \"error\",\r\n        \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\",\r\n        TOAST_IDS.PHONE_SUBMIT\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // A separate function to handle OTP sending safely\r\n  const sendOtpCodeSafely = async (phoneNumber: string) => {\r\n    // Prevent duplicate calls\r\n    if (isSendingOtp) {\r\n      console.log(\"Preventing duplicate OTP send request\");\r\n      return;\r\n    }\r\n\r\n    setIsSendingOtp(true);\r\n    setError(\"\"); // Clear any previous errors\r\n\r\n    console.log(`Starting OTP request for ${phoneNumber}`);\r\n\r\n    try {\r\n      // Show loading toast\r\n      showToast(\"loading\", \"در حال ارسال کد تایید...\", TOAST_IDS.OTP_SEND);\r\n\r\n      // Get captcha token for otp action\r\n      // const recaptchaToken = await executeReCaptchaForOtp();\r\n      // if (!recaptchaToken) {\r\n      //   console.warn(\"⚠️ [OTP SEND] Failed to get reCAPTCHA token\");\r\n      //   showToast(\r\n      //     \"error\",\r\n      //     \"خطا در تایید امنیتی. لطفا دوباره تلاش کنید.\",\r\n      //     TOAST_IDS.OTP_SEND\r\n      //   );\r\n      //   return;\r\n      // }\r\n\r\n      const codeResult = await resendCode(phoneNumber);\r\n      // const codeResult = await resendCode(phoneNumber, recaptchaToken);\r\n      console.log(`OTP request completed:`, codeResult);\r\n\r\n      if (codeResult.success) {\r\n        // Don't show success toast for resend to avoid confusion\r\n        setCountdown(180);\r\n        setCanResend(false);\r\n        // Dismiss the loading toast\r\n        toast.dismiss(TOAST_IDS.OTP_SEND);\r\n      } else {\r\n        showToast(\r\n          \"error\",\r\n          cleanErrorMessage(codeResult.error ?? \"\") ||\r\n            \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\",\r\n          TOAST_IDS.OTP_SEND\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.error(`OTP request failed:`, err);\r\n      showToast(\r\n        \"error\",\r\n        \"خطا در ارسال کد تایید. لطفا دوباره تلاش کنید.\",\r\n        TOAST_IDS.OTP_SEND\r\n      );\r\n    } finally {\r\n      console.log(`Finished OTP request`);\r\n      setIsSendingOtp(false);\r\n    }\r\n  };\r\n\r\n  const handleOtpSubmit = async (data: OtpFormValues) => {\r\n    if (isSubmitting) {\r\n      console.log(\"Preventing duplicate OTP submit\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setError(\"\");\r\n\r\n    console.log(\"Starting OTP verification\");\r\n\r\n    try {\r\n      const otpCode = parseInt(data.otp);\r\n\r\n      // Show login in progress\r\n      showToast(\"loading\", \"در حال ورود...\", TOAST_IDS.OTP_VERIFY);\r\n\r\n      console.log(\"Attempting OTP login\");\r\n\r\n      // Get captcha token for otp action\r\n      // const recaptchaToken = await executeReCaptchaForOtp();\r\n      // if (!recaptchaToken) {\r\n      //   console.warn(\"⚠️ [OTP VERIFY] Failed to get reCAPTCHA token\");\r\n      //   showToast(\r\n      //     \"error\",\r\n      //     \"خطا در تایید امنیتی. لطفا دوباره تلاش کنید.\",\r\n      //     TOAST_IDS.OTP_VERIFY\r\n      //   );\r\n      //   return;\r\n      // }\r\n\r\n      const result = await signIn(\"otp-login\", {\r\n        phoneNumber: savedPhoneNumber,\r\n        code: data.otp,\r\n        // recaptchaToken,\r\n        redirect: false,\r\n        callbackUrl,\r\n      });\r\n      //      const result = await signIn(\"otp-login\", {\r\n      //   phoneNumber: savedPhoneNumber,\r\n      //   code: data.otp,\r\n      //   recaptchaToken,\r\n      //   redirect: false,\r\n      //   callbackUrl,\r\n      // });\r\n\r\n      if (result?.error) {\r\n        console.error(\"OTP login error:\", result.error);\r\n\r\n        // Use the specific error message from the backend\r\n        const errorMessage =\r\n          cleanErrorMessage(result.error ?? \"\") ||\r\n          \"کد تایید نامعتبر است. لطفا دوباره تلاش کنید.\";\r\n\r\n        showToast(\"error\", errorMessage, TOAST_IDS.OTP_VERIFY);\r\n\r\n        otpForm.reset();\r\n      } else if (result?.ok) {\r\n        // Success - redirect manually\r\n        showToast(\r\n          \"success\",\r\n          \"ورود موفق. در حال انتقال...\",\r\n          TOAST_IDS.OTP_VERIFY\r\n        );\r\n        window.location.href = callbackUrl;\r\n      }\r\n    } catch (err) {\r\n      console.error(\"OTP login exception:\", err);\r\n\r\n      const errorMessage =\r\n        \"خطا در ورود با کد یکبار مصرف. لطفا دوباره تلاش کنید.\";\r\n\r\n      showToast(\"error\", errorMessage, TOAST_IDS.OTP_VERIFY);\r\n\r\n      otpForm.reset();\r\n    } finally {\r\n      console.log(\"Finished OTP verification\");\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleResendCode = () => {\r\n    if (!canResend || isSendingOtp) {\r\n      console.log(\r\n        \"Preventing resend: canResend =\",\r\n        canResend,\r\n        \"isSendingOtp =\",\r\n        isSendingOtp\r\n      );\r\n      return;\r\n    }\r\n\r\n    console.log(\"Resending code for phone:\", savedPhoneNumber);\r\n\r\n    // Send OTP code again\r\n    sendOtpCodeSafely(savedPhoneNumber);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    // Clear any error messages\r\n    setError(\"\");\r\n\r\n    if (step === \"otp\") {\r\n      setStep(\"phone\");\r\n      // Reset OTP form\r\n      otpForm.reset();\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  // SMS autofill functionality for Android\r\n  useEffect(() => {\r\n    if (step !== \"otp\") {\r\n      return;\r\n    }\r\n\r\n    const isAndroid = /Android/i.test(navigator.userAgent);\r\n\r\n    // For Android - Use WebOTP API\r\n    if (isAndroid && \"OTPCredential\" in window) {\r\n      const abortController = new AbortController();\r\n\r\n      const retrieveOtp = async () => {\r\n        try {\r\n          const otpCredential = await (navigator.credentials as any).get({\r\n            otp: { transport: [\"sms\"] },\r\n            signal: abortController.signal,\r\n          });\r\n\r\n          if (otpCredential?.code) {\r\n            // Convert Persian/Arabic digits to English\r\n            const convertedCode = convertPersianToEnglishForOTP(\r\n              otpCredential.code\r\n            );\r\n\r\n            // Extract 6-digit code using multiple patterns\r\n            let extractedCode = \"\";\r\n\r\n            // Pattern 1: CODE: followed by digits\r\n            const codePattern = convertedCode.match(/CODE:?\\s*(\\d{6})/i);\r\n            if (codePattern) {\r\n              extractedCode = codePattern[1];\r\n            }\r\n\r\n            // Pattern 2: # followed by digits\r\n            if (!extractedCode) {\r\n              const hashPattern = convertedCode.match(/#(\\d{6})/);\r\n              if (hashPattern) {\r\n                extractedCode = hashPattern[1];\r\n              }\r\n            }\r\n\r\n            // Pattern 3: Any 6-digit sequence\r\n            if (!extractedCode) {\r\n              const digitPattern = convertedCode.match(/\\d{6}/);\r\n              if (digitPattern) {\r\n                extractedCode = digitPattern[0];\r\n              }\r\n            }\r\n\r\n            if (extractedCode && /^\\d{6}$/.test(extractedCode)) {\r\n              otpForm.setValue(\"otp\", extractedCode);\r\n              showToast(\r\n                \"success\",\r\n                \"کد تایید از پیامک خوانده شد.\",\r\n                TOAST_IDS.GENERAL\r\n              );\r\n            }\r\n          }\r\n        } catch (err: any) {\r\n          // Silently handle errors\r\n          console.log(\"WebOTP API error:\", err);\r\n        }\r\n      };\r\n\r\n      retrieveOtp();\r\n\r\n      return () => {\r\n        abortController.abort();\r\n      };\r\n    }\r\n  }, [step, otpForm]);\r\n\r\n  // Auto-focus and setup OTP input attributes for mobile with Persian keyboard support\r\n  useEffect(() => {\r\n    if (step === \"otp\") {\r\n      const timer = setTimeout(() => {\r\n        // Try multiple selectors to find the actual input\r\n        const otpInput =\r\n          (document.querySelector(\"[data-input-otp]\") as HTMLInputElement) ||\r\n          (document.querySelector(\r\n            'input[inputmode=\"numeric\"]'\r\n          ) as HTMLInputElement) ||\r\n          (document.querySelector('input[type=\"text\"]') as HTMLInputElement);\r\n\r\n        if (otpInput) {\r\n          // Essential attributes for mobile keyboard with Persian support\r\n          otpInput.setAttribute(\"autocomplete\", \"one-time-code\");\r\n          otpInput.setAttribute(\"inputmode\", \"text\"); // Changed from \"numeric\" to support Persian keyboard\r\n          otpInput.setAttribute(\"pattern\", \"[0-9۰-۹٠-٩]{6}\"); // Support Persian and Arabic digits\r\n          otpInput.setAttribute(\"type\", \"text\"); // Changed from \"tel\" to \"text\" for better Persian support\r\n\r\n          // Force focus and keyboard open\r\n          otpInput.focus();\r\n          otpInput.click(); // Additional trigger for mobile\r\n\r\n          // Ensure cursor is at the end\r\n          if (otpInput.value) {\r\n            otpInput.setSelectionRange(\r\n              otpInput.value.length,\r\n              otpInput.value.length\r\n            );\r\n          }\r\n        }\r\n\r\n        // Also try to find and configure all individual slots\r\n        const otpSlots = document.querySelectorAll(\r\n          \"[data-input-otp] input, input[data-otp-index]\"\r\n        );\r\n        otpSlots.forEach((slot: Element) => {\r\n          const inputSlot = slot as HTMLInputElement;\r\n          inputSlot.setAttribute(\"inputmode\", \"text\"); // Changed from \"numeric\" to support Persian keyboard\r\n          inputSlot.setAttribute(\"pattern\", \"[0-9۰-۹٠-٩]\"); // Support Persian and Arabic digits\r\n          inputSlot.setAttribute(\"type\", \"text\"); // Changed from \"tel\" to \"text\"\r\n          inputSlot.setAttribute(\"autocomplete\", \"one-time-code\");\r\n        });\r\n      }, 150); // Increased delay to ensure DOM is ready\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [step]);\r\n\r\n  // OTP paste transformer to handle various OTP formats including Persian digits\r\n  const handleOtpPaste = (pastedText: string) => {\r\n    // First convert Persian/Arabic digits to English\r\n    const convertedText = convertPersianToEnglishForOTP(pastedText);\r\n\r\n    // Clean up pasted text: remove spaces, dashes, and other separators\r\n    const cleanText = convertedText.replace(/[\\s\\-\\.\\,\\:]/g, \"\");\r\n\r\n    // Extract only English digits\r\n    const digits = cleanText.match(/\\d/g);\r\n    if (digits) {\r\n      const result = digits.join(\"\").slice(0, 6); // Take only first 6 digits\r\n      return result;\r\n    }\r\n    const result = cleanText.slice(0, 6);\r\n    return result;\r\n  };\r\n\r\n  // Auto-submit when OTP is complete\r\n  useEffect(() => {\r\n    if (\r\n      otpForm.watch(\"otp\")?.length === 6 &&\r\n      step === \"otp\" &&\r\n      !isSubmitting &&\r\n      !hasAutoSubmitted\r\n    ) {\r\n      setHasAutoSubmitted(true);\r\n\r\n      setTimeout(() => {\r\n        otpForm.handleSubmit(handleOtpSubmit)();\r\n      }, 300);\r\n    } else if (otpForm.watch(\"otp\")?.length < 6) {\r\n      setHasAutoSubmitted(false);\r\n    }\r\n  }, [otpForm.watch(\"otp\"), step, isSubmitting, hasAutoSubmitted, otpForm]);\r\n\r\n  // Convert Persian/Arabic digits to English in real-time\r\n  useEffect(() => {\r\n    const currentOtp = otpForm.watch(\"otp\");\r\n    if (currentOtp) {\r\n      const convertedCode = convertPersianToEnglishForOTP(currentOtp);\r\n      if (convertedCode !== currentOtp) {\r\n        otpForm.setValue(\"otp\", convertedCode);\r\n      }\r\n    }\r\n  }, [otpForm.watch(\"otp\"), otpForm]);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl\">\r\n      {/* Right Side - Login Form */}\r\n      <div className=\"bg-white rounded-2xl shadow-Card px-6 py-10 transition-all duration-300 overflow-hidden relative\">\r\n        {/* Back Button */}\r\n        {step !== \"phone\" && (\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"absolute top-4 right-2 text-textBlack hover:text-textBlack/80 px-2\"\r\n            onClick={handleBack}\r\n            disabled={isSubmitting || isSendingOtp}\r\n          >\r\n            <ArrowRight className=\"size-5\" strokeWidth={2} />\r\n            <p className=\"text-sm font-normal ms-1\">بازگشت</p>\r\n          </Button>\r\n        )}\r\n\r\n        <div className=\"flex justify-center mb-6\">\r\n          <Link href=\"/\">\r\n            <Logo />\r\n          </Link>\r\n        </div>\r\n\r\n        {step === \"phone\" && (\r\n          <MotionEffect slide={{ direction: \"down\" }} fade inView>\r\n            <>\r\n              <p className=\"text-right mt-16 mb-6 w-full font-bold text-2xl\">\r\n                ورود / ثبت نام\r\n              </p>\r\n              <form onSubmit={phoneForm.handleSubmit(handlePhoneSubmit)}>\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-sm font-normal mb-2 text-right\">\r\n                    سلام، برای ورود یا ثبت نام شماره موبایل خود را وارد کنید.\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Input\r\n                      ref={phoneInputRef}\r\n                      type=\"tel\"\r\n                      inputMode=\"numeric\"\r\n                      pattern=\"[0-9]*\"\r\n                      className=\"pr-10 text-gray-500 text-left placeholder:text-right placeholder:dir-rtl text-base placeholder:font-medium\"\r\n                      dir=\"ltr\"\r\n                      placeholder=\"شماره موبایل\"\r\n                      value={phoneForm.watch(\"phoneNumber\")}\r\n                      onChange={(event) => {\r\n                        const convertedValue = convertPersianToEnglish(\r\n                          event.target.value\r\n                        );\r\n                        const cleanedValue = convertedValue\r\n                          .replace(/\\D/g, \"\")\r\n                          .trim();\r\n                        // Only take first 11 digits after cleaning\r\n                        const finalValue = cleanedValue.substring(0, 11);\r\n                        phoneForm.setValue(\"phoneNumber\", finalValue);\r\n                      }}\r\n                      onPaste={(event) => {\r\n                        event.preventDefault();\r\n                        const pastedText = event.clipboardData.getData(\"text\");\r\n                        const convertedValue =\r\n                          convertPersianToEnglish(pastedText);\r\n                        const cleanedValue = convertedValue\r\n                          .replace(/\\D/g, \"\")\r\n                          .trim();\r\n                        // Only take first 11 digits after cleaning\r\n                        const finalValue = cleanedValue.substring(0, 11);\r\n                        phoneForm.setValue(\"phoneNumber\", finalValue);\r\n                      }}\r\n                      maxLength={15} // Increased to allow for spaces before cleaning\r\n                      disabled={isSubmitting}\r\n                      autoComplete=\"username\"\r\n                      name=\"username\"\r\n                    />\r\n                    <Phone className=\"size-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-600\" />\r\n                  </div>\r\n                  {phoneForm.formState.errors.phoneNumber && (\r\n                    <p className=\"text-red-500 text-sm select-none mt-2\">\r\n                      {phoneForm.formState.errors.phoneNumber.message}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div className=\"w-full justify-center flex mt-10\">\r\n                  <RippleButton\r\n                    type=\"submit\"\r\n                    className=\"w-1/2 bg-primary hover:bg-primary text-white py-2 rounded-lg flex justify-center items-center\"\r\n                    disabled={isSubmitting || !isRecaptchaLoaded}\r\n                    name=\"submitPhonenumber\"\r\n                  >\r\n                    <p className=\"text-base font-normal\">\r\n                      {isSubmitting\r\n                        ? \"در حال پردازش...\"\r\n                        : !isRecaptchaLoaded\r\n                        ? \"در حال بارگذاری...\"\r\n                        : \"ارسال کد تایید\"}\r\n                    </p>\r\n                    <ArrowLeftIcon className=\"size-5 mr-2\" />\r\n                  </RippleButton>\r\n                </div>\r\n              </form>\r\n            </>\r\n          </MotionEffect>\r\n        )}\r\n\r\n        {step === \"otp\" && (\r\n          <MotionEffect slide={{ direction: \"down\" }} fade inView>\r\n            <>\r\n              <p className=\"text-center mb-6\">\r\n                کد ارسال شده به شماره همراه {savedPhoneNumber} را وارد کنید.\r\n              </p>\r\n              <form\r\n                onSubmit={otpForm.handleSubmit(handleOtpSubmit)}\r\n                name=\"otp-form\"\r\n              >\r\n                <div className=\"mb-6\">\r\n                  <div id=\"otp-input\" dir=\"ltr\" className=\"flex justify-center\">\r\n                    <InputOTP\r\n                      maxLength={6}\r\n                      pattern={REGEXP_PERSIAN_ENGLISH_DIGITS}\r\n                      containerClassName=\"group flex items-center has-[:disabled]:opacity-30 justify-center\"\r\n                      value={otpForm.watch(\"otp\") || \"\"}\r\n                      onChange={(value) => {\r\n                        // Convert Persian/Arabic numbers to English with enhanced function\r\n                        const convertedValue =\r\n                          convertPersianToEnglishForOTP(value);\r\n\r\n                        // Update form value with converted digits only\r\n                        otpForm.setValue(\"otp\", convertedValue);\r\n                      }}\r\n                      onPaste={(e) => {\r\n                        e.preventDefault();\r\n                        let paste =\r\n                          e.clipboardData?.getData(\"text\")?.slice(0, 6) || \"\";\r\n\r\n                        // Use enhanced conversion for paste\r\n                        paste = convertPersianToEnglishForOTP(paste);\r\n\r\n                        if (paste && /^\\d{1,6}$/.test(paste)) {\r\n                          otpForm.setValue(\"otp\", paste);\r\n                        }\r\n                      }}\r\n                      disabled={isSubmitting}\r\n                      autoFocus\r\n                      data-testid=\"otp-input\"\r\n                      inputMode=\"text\"\r\n                    >\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={0} />\r\n                      </InputOTPGroup>\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={1} />\r\n                      </InputOTPGroup>\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={2} />\r\n                      </InputOTPGroup>\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={3} />\r\n                      </InputOTPGroup>\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={4} />\r\n                      </InputOTPGroup>\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={5} />\r\n                      </InputOTPGroup>\r\n                    </InputOTP>\r\n                  </div>\r\n                  <p className=\"text-xs text-center text-gray-500 mt-2\">\r\n                    کد پیامکی به صورت خودکار تشخیص داده می‌شود\r\n                  </p>\r\n                  {otpForm.formState.errors.otp && (\r\n                    <p className=\"text-red-500 text-sm text-center mt-1\">\r\n                      {otpForm.formState.errors.otp.message}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-center mt-4\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"link\"\r\n                    className=\"text-primary text-sm font-medium\"\r\n                    onClick={() => setStep(\"phone\")}\r\n                    disabled={isSendingOtp || isSubmitting}\r\n                  >\r\n                    تغییر شماره موبایل\r\n                  </Button>\r\n                  <span className=\"mx-2 text-BlueGray\">|</span>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"link\"\r\n                    className={`text-mainOrange text-sm font-normal ${\r\n                      !canResend || isSendingOtp\r\n                        ? \"opacity-50 cursor-not-allowed\"\r\n                        : \"\"\r\n                    }`}\r\n                    onClick={handleResendCode}\r\n                    disabled={!canResend || isSendingOtp || isSubmitting}\r\n                  >\r\n                    {isSendingOtp\r\n                      ? \"در حال ارسال کد...\"\r\n                      : canResend\r\n                      ? \"ارسال مجدد کد\"\r\n                      : `ارسال مجدد کد (${countdown} ثانیه)`}\r\n                  </Button>\r\n                </div>\r\n                <RippleButton\r\n                  type=\"submit\"\r\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md\"\r\n                  disabled={\r\n                    isSubmitting ||\r\n                    isSendingOtp ||\r\n                    otpForm.watch(\"otp\")?.length !== 6\r\n                  }\r\n                >\r\n                  {isSubmitting ? \"در حال پردازش...\" : \"ورود\"}\r\n                </RippleButton>\r\n              </form>\r\n            </>\r\n          </MotionEffect>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/app/%28auth%29/login/components/content.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"motion/react\";\r\nimport { LoginForm } from \"./login-form\";\r\n\r\ninterface PropsType {\r\n  callbackUrl: string;\r\n}\r\n\r\nconst LoginPageForm = (props: PropsType) => {\r\n  const { callbackUrl } = props;\r\n  return (\r\n    <div className=\"bg-background min-h-screen relative overflow-hidden\">\r\n      <div className=\"lg:block hidden\">\r\n        {/* Background clouds animation */}\r\n        <motion.div\r\n          className=\"absolute top-10 -left-8\"\r\n          animate={{\r\n            x: [0, 30, 0],\r\n            y: [0, -15, 0],\r\n          }}\r\n          transition={{\r\n            duration: 8,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\",\r\n          }}\r\n        >\r\n          <img src=\"/img/cloud.png\" className=\"w-20\" alt=\"Cloud\" />\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          className=\"absolute top-20 right-1/12\"\r\n          animate={{\r\n            x: [0, -25, 0],\r\n            y: [0, 10, 0],\r\n          }}\r\n          transition={{\r\n            duration: 10,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\",\r\n          }}\r\n        >\r\n          <img src=\"/img/fullCloud.png\" className=\"w-32\" alt=\"Full Cloud\" />\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          className=\"absolute top-64 2xl:right-1/3 right-[40%]\"\r\n          animate={{\r\n            x: [0, -25, 0],\r\n            y: [0, 10, 0],\r\n          }}\r\n          transition={{\r\n            duration: 10,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\",\r\n          }}\r\n        >\r\n          <img\r\n            src=\"/img/fullCloud.png\"\r\n            className=\"w-32 scale-x-[-1]\"\r\n            alt=\"Cloud\"\r\n          />\r\n        </motion.div>\r\n\r\n        {/* Main content area */}\r\n        <div className=\"absolute right-[13%] top-1/5 z-10 w-full max-w-md\">\r\n          <motion.div\r\n            className=\"text-center\"\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            // transition={{ duration: 1.5, ease: \"easeOut\" }}\r\n          >\r\n            {/* You can add your main content here */}\r\n            <LoginForm callbackUrl={callbackUrl} />\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Houses at the bottom */}\r\n        <motion.div\r\n          className=\"absolute bottom-0 left-0 w-full\"\r\n          initial={{ y: 100, opacity: 0 }}\r\n          animate={{ y: 0, opacity: 1 }}\r\n          transition={{ duration: 0.5, ease: \"easeOut\", delay: 0.1 }}\r\n        >\r\n          <img\r\n            src=\"/img/houses.png\"\r\n            className=\"w-full h-auto object-cover\"\r\n            alt=\"Houses\"\r\n          />\r\n        </motion.div>\r\n\r\n        {/* Animated smoke */}\r\n        <motion.div\r\n          className=\"absolute xl:bottom-[45%] lg:bottom-1/3 xl:left-1/5 lg:left-[17%]\"\r\n          initial={{\r\n            scale: 1.2,\r\n            y: 150,\r\n            opacity: 0,\r\n          }}\r\n          animate={{\r\n            scale: [1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.4],\r\n            y: [\r\n              150, 100, 50, 0, -50, -100, -150, -200, -250, -300, -350, -400,\r\n              -450, -500, -550, -600, -650,\r\n            ],\r\n            opacity: [0, 0.3, 0.6, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n          }}\r\n          transition={{\r\n            duration: 8,\r\n            repeat: Infinity,\r\n            ease: \"linear\",\r\n            // delay: 1,\r\n          }}\r\n        >\r\n          <img src=\"/img/smoke.png\" className=\"w-32 h-auto\" alt=\"Smoke\" />\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* <<<<<<<<<<<<< MOBILE VIEW >>>>>>>>>>>>>>> */}\r\n      <div className=\"lg:hidden block\">\r\n        <div className=\"absolute bottom-0 right-0 w-full\">\r\n          <img src=\"/img/smokeHousesMob.png\" className=\"w-full\" />\r\n        </div>\r\n        <div className=\"absolute top-10 -right-7\">\r\n          <img src=\"/img/fullCloud.png\" className=\"w-32\" />\r\n        </div>\r\n        <div className=\"absolute top-1/3 -left-7\">\r\n          <img src=\"/img/fullCloud.png\" className=\"w-32\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPageForm;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2556, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/matta/Desktop/Projects/saman-home-insurance/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport PawLoading from '@/assets/icon/pawLoading';\r\nimport { useProtectedRoute } from '@/hooks/useProtectedRoute';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport LoginPageForm from './components/content';\r\n\r\nexport default function Main() {\r\n  const searchParams = useSearchParams();\r\n  const redirectUrl = searchParams.get('redirectUrl') || searchParams.get('callbackUrl') || '/';\r\n  \r\n  // Use the protection hook but with redirectIfFound=true to handle redirecting authenticated users away\r\n  const { isLoading } = useProtectedRoute({\r\n    redirectTo: redirectUrl,\r\n    redirectIfFound: true,\r\n  });\r\n\r\n  // Show loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex h-[100dvh] w-full items-center justify-center\">\r\n        {/* <div className=\"w-24\">\r\n          <PawLoading className=\"size-24\" />\r\n        </div> */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <LoginPageForm callbackUrl={redirectUrl} />;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAOe,SAAS;;IACtB,MAAM,eAAe,IAAA,uRAAe;IACpC,MAAM,cAAc,aAAa,GAAG,CAAC,kBAAkB,aAAa,GAAG,CAAC,kBAAkB;IAE1F,uGAAuG;IACvG,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,yJAAiB,EAAC;QACtC,YAAY;QACZ,iBAAiB;IACnB;IAEA,qBAAqB;IACrB,IAAI,WAAW;QACb,qBACE,4TAAC;YAAI,WAAU;;;;;;IAMnB;IAEA,qBAAO,4TAAC,uKAAa;QAAC,aAAa;;;;;;AACrC;GAtBwB;;QACD,uRAAe;QAId,yJAAiB;;;KALjB","debugId":null}}]
}